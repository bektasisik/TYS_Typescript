(()=>{"use strict";var t={300:(t,e)=>{var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n)return n;throw new Error("unable to locate global object")}();t.exports=e=n.fetch,n.fetch&&(e.default=n.fetch.bind(n)),e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response},674:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Attendance=void 0,e.Attendance=class{constructor(t,e){this.date=new Date,this.today=this.date.getDate()+"/"+(this.date.getMonth()+1)+"/"+this.date.getFullYear()+" "+this.date.getHours()+":"+this.date.getMinutes()+":"+this.date.getSeconds(),this.id=t,this.prayerTime=e}showInfoAttendance(){console.log(this.id+" "+this.prayerTime+" "+this.today)}}},406:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Student=void 0,e.Student=class{constructor(t,e,n){this.id=t,this.name=e,this.surname=n,this.absent=0}increaseAbsent(){this.absent=this.absent+1}setName(t){this.name=t}setSurname(t){this.surname=t}showInfoStudent(){console.log(this.name+" "+this.surname+" "+this.absent)}}},669:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StudentAttendance=void 0,e.StudentAttendance=class{constructor(t,e,n){this.student=t,this.attendance=e,this.isAbsence=n}getAttendance(){return this.attendance}getStudent(){return this.student}getIsAbsenceToString(t){return t?"Var":"Yok"}showInfoStudentAttendance(){console.log(this.student+" "+this.attendance+" "+this.getIsAbsenceToString)}}},607:function(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,d){function o(t){try{r(s.next(t))}catch(t){d(t)}}function a(t){try{r(s.throw(t))}catch(t){d(t)}}function r(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}r((s=s.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=n(287),d=n(711),o=new i.StudentService,a=new d.AttendanceService,r=document.getElementById("addStudentButton"),u=document.getElementById("updateStudentButton"),c=document.getElementById("takeAttendanceButton"),l=document.getElementById("nameInput"),h=document.getElementById("surnameInput"),p=document.getElementById("selectPrayerTime"),m=document.getElementsByName("selectAbsence"),f=(document.getElementById("selectListWithAttendanceId"),document.getElementById("mySelectStudentId"),document.getElementById("studentListBody")),y=document.getElementById("takeAttendanceBody");let v;function g(){!function(){s(this,void 0,void 0,(function*(){f.innerHTML="",(yield o.getStudents()).forEach((t=>{const e=document.createElement("tr"),n=document.createElement("td"),s=document.createElement("td"),i=document.createElement("td"),d=document.createElement("td"),a=document.createElement("td"),c=document.createElement("td"),p=document.createElement("td"),m=document.createElement("button"),y=document.createElement("button");n.innerHTML=t.id.toString(),s.innerText=t.name,i.innerText=t.surname,d.innerText=t.absent.toString(),m.setAttribute("class","btn btn-danger"),m.setAttribute("id","deleteButton"),m.setAttribute("data-id",t.id.toString()),m.innerHTML='<i class="fas fa-trash-alt"></i>',y.setAttribute("class","btn btn-primary"),y.setAttribute("id","updateButton"),y.setAttribute("data-id",t.id.toString()),y.innerHTML='<i class="fa-solid fa-edit"></i>',a.appendChild(m),c.appendChild(y),e.appendChild(n),e.appendChild(s),e.appendChild(i),e.appendChild(d),p.appendChild(a),p.appendChild(c),p.setAttribute("class","d-flex justify-content-around"),e.appendChild(p),f.appendChild(e),m.addEventListener("click",(()=>{console.log("Silme"),o.deleteStudent(Number(m.dataset.id)),g()})),y.addEventListener("click",(()=>{v=t,l.value=v.name,h.value=v.surname,r.style.display="none",u.style.display="block",u.setAttribute("data-id",v.id.toString())}))}))}))}(),function(){s(this,void 0,void 0,(function*(){y.innerHTML="",(yield o.getStudents()).forEach((t=>{const e=document.createElement("tr"),n=document.createElement("td"),s=document.createElement("td"),i=document.createElement("td"),d=document.createElement("td"),o=document.createElement("select"),a=document.createElement("option"),r=document.createElement("option");n.innerHTML=t.id.toString(),s.innerText=t.name,i.innerText=t.surname,o.setAttribute("class","form-select"),o.setAttribute("name","selectAbsence"),o.setAttribute("aria-label","select example"),a.setAttribute("value","+"),r.setAttribute("value","-"),a.innerText="+",r.innerText="-",o.appendChild(a),o.appendChild(r),d.appendChild(o),e.appendChild(n),e.appendChild(s),e.appendChild(i),e.appendChild(d),y.appendChild(e)}))}))}()}document.getElementById("tbodyListForAttendance"),g(),r.addEventListener("click",(t=>s(void 0,void 0,void 0,(function*(){t.preventDefault(),console.log("Ekleme"),yield o.addStudent(l.value,h.value),l.value="",h.value="",g()})))),u.addEventListener("click",(t=>s(void 0,void 0,void 0,(function*(){console.log("Güncelleme"),yield o.updateStudent(v.id,l.value,h.value),l.value="",h.value="",g(),r.style.display="block",u.style.display="none",t.preventDefault()})))),c.addEventListener("click",(t=>s(void 0,void 0,void 0,(function*(){console.log("Yoklama alma");const e=new Map;(yield o.getStudents()).forEach(((t,n)=>{e.set(t,"+"===m[n].value)})),a.takeAttendance(p.value,e),console.log(a.getAttendanceList()),g(),function(){const t=a.getAttendanceList(),e=document.getElementById("selectListWithAttendanceId");e.innerHTML="";const n=document.createElement("option");n.setAttribute("disabled","disabled"),n.innerText="Lütfen Listelemek İstedğiniz Vakti Seçiniz...",e.appendChild(n),t.forEach((t=>{const n=document.createElement("option");n.setAttribute("value",t.id.toString()),n.innerText=t.today+" "+t.prayerTime,e.appendChild(n)}))}(),t.preventDefault()}))))},711:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AttendanceService=void 0;const s=n(674),i=n(669);e.AttendanceService=class{constructor(){this.attendances=[],this.studentAttendances=[],this.sequence=1}getAttendanceList(){return this.attendances}getAttendance(t){return this.attendances.filter((e=>e.id===t))[0]}getStudentAttendances(){return this.studentAttendances}getAttendancesByAttendanceId(t){return this.studentAttendances.filter((e=>e.getAttendance().id===t))}getAttendancesByStudentId(t){return this.studentAttendances.filter((e=>e.getStudent().id===t))}takeAttendance(t,e){const n=new s.Attendance(this.sequence++,t);this.attendances.push(n),e.forEach(((t,e)=>{const s=new i.StudentAttendance(e,n,t);t||e.increaseAbsent(),this.studentAttendances.push(s)}))}}},287:function(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,d){function o(t){try{r(s.next(t))}catch(t){d(t)}}function a(t){try{r(s.throw(t))}catch(t){d(t)}}function r(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}r((s=s.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StudentService=void 0;const d=n(406),o=i(n(300));var a="http://localhost:3002/api/v1";e.StudentService=class{constructor(){this._students=[],this._sequence=0,this.fetchStudents()}fetchStudents(){return s(this,void 0,void 0,(function*(){const t=yield(0,o.default)(a+"/students",{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Error! status: ${t.status}`);const e=yield t.json();return this._students=JSON.parse(JSON.stringify(e)),this._students}))}getStudents(){return this._students}increaseAbsent(t){return s(this,void 0,void 0,(function*(){const e=yield(0,o.default)(a+"/students/"+t+"/absent",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,absen:1})});if(!e.ok)throw new Error(e.statusText);const n=yield e.json();console.log("result is: ",JSON.stringify(n));const s=this.getStudent(t);s&&(s.absent=n.absent)}))}addStudent(t,e){return s(this,void 0,void 0,(function*(){const n=yield(0,o.default)(a+"/students/"+this._sequence+"/"+t+"/"+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:this._sequence++,name:t,surname:e,absent:0})});if(!n.ok)throw new Error(`Error! status: ${n.status}`);const s=yield n.json();console.log("result is: ",JSON.stringify(s));const i=new d.Student(this._sequence,t,e);this._students.push(i)}))}addStudentWithId(t,e,n){return s(this,void 0,void 0,(function*(){const s=yield(0,o.default)(a+"/students/"+t+"/"+e+"/"+n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,name:e,surname:n,absent:0})});if(!s.ok)throw new Error(`Error! status: ${s.status}`);const i=yield s.json();console.log("result is: ",JSON.stringify(i));const r=new d.Student(t,e,n);this._students.push(r)}))}getStudent(t){return window.fetch(a+"/students/"+t,{method:"GET"}).then((t=>t.json())).then((t=>{console.log(t)})),this._students.find((e=>e.id===t))}getStudentById(t){return this._students.find((e=>e.id===t))}updateStudent(t,e,n){return s(this,void 0,void 0,(function*(){const s=yield(0,o.default)(a+"/students/"+t+"/"+e+"/"+n,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:t,name:e,surname:n})});if(!s.ok)throw new Error(`Error! status: ${s.status}`);const i=yield s.json();console.log("result is: ",JSON.stringify(i));const d=this.getStudent(t);d&&(d.setName(e),d.setSurname(n))}))}updateStudentWithId(t,e,n){return s(this,void 0,void 0,(function*(){const s=yield(0,o.default)(a+"/students/"+t+"/"+e+"/"+n,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:t,name:e,surname:n})});if(!s.ok)throw new Error(`Error! status: ${s.status}`);const i=yield s.json();console.log("result is: ",JSON.stringify(i));const d=this.getStudent(t);d&&(d.setName(e),d.setSurname(n))}))}deleteStudent(t){return s(this,void 0,void 0,(function*(){const e=yield(0,o.default)(a+"/students/"+t,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok)throw new Error(`Error! status: ${e.status}`);const n=yield e.json();console.log("result is: ",JSON.stringify(n));const s=this._students.filter((e=>e.id!==t));this._students=s}))}deleteStudentWithId(t){return s(this,void 0,void 0,(function*(){const e=yield(0,o.default)(a+"/students/"+t,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok)throw new Error(`Error! status: ${e.status}`);const n=yield e.json();console.log("result is: ",JSON.stringify(n));const s=this._students.filter((e=>e.id!==t));this._students=s}))}}}},e={};!function n(s){var i=e[s];if(void 0!==i)return i.exports;var d=e[s]={exports:{}};return t[s].call(d.exports,d,d.exports,n),d.exports}(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QjlCLEcseUNBQ3RCLE1BQU1TLFFBQWlCLGFBQU1KLEVBQVMsYUFBZUwsRUFBVyxDQUM1RFUsT0FBUSxTQUNSQyxRQUFTLENBQ0xDLE9BQVEsbUJBQ1IsZUFBZ0Isc0JBSXhCLElBQUtILEVBQVNJLEdBQ1YsTUFBTSxJQUFJNUgsTUFBTSxrQkFBa0J3SCxFQUFTSyxVQUcvQyxNQUFNQyxRQUFlTixFQUFTTyxPQUU5QnhHLFFBQVFDLElBQUksY0FBZXdHLEtBQUtFLFVBQVVKLElBQzFDLE1BQU1jLEVBQVc3SCxLQUFLc0csVUFBVVgsUUFBTzFFLEdBQVdBLEVBQVF0QixLQUFPcUcsSUFDakVoRyxLQUFLc0csVUFBWXVCLENBQ3JCLEcsS0NyTkFFLEVBQTJCLENBQUMsR0FHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQkUsSUFBakJELEVBQ0gsT0FBT0EsRUFBYTlJLFFBR3JCLElBQUlELEVBQVM0SSxFQUF5QkUsR0FBWSxDQUdqRDdJLFFBQVMsQ0FBQyxHQU9YLE9BSEFnSixFQUFvQkgsR0FBVUksS0FBS2xKLEVBQU9DLFFBQVNELEVBQVFBLEVBQU9DLFFBQVM0SSxHQUdwRTdJLEVBQU9DLE9BQ2YsQ0NuQjBCNEksQ0FBb0IsSSIsInNvdXJjZXMiOlsid2VicGFjazovL3R5cy8uL25vZGVfbW9kdWxlcy9ub2RlLWZldGNoL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vdHlzLy4vc3JjL2RvbWFpbi9hdHRlbmRhbmNlLnRzIiwid2VicGFjazovL3R5cy8uL3NyYy9kb21haW4vc3R1ZGVudC50cyIsIndlYnBhY2s6Ly90eXMvLi9zcmMvZG9tYWluL3N0dWRlbnRfYXR0ZW5kYW5jZS50cyIsIndlYnBhY2s6Ly90eXMvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vdHlzLy4vc3JjL3NlcnZpY2UvYXR0ZW5kYW5jZV9zZXJ2aWNlLnRzIiwid2VicGFjazovL3R5cy8uL3NyYy9zZXJ2aWNlL3N0dWRlbnRfc2VydmljZS50cyIsIndlYnBhY2s6Ly90eXMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdHlzL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLy8gcmVmOiBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1nbG9iYWxcbnZhciBnZXRHbG9iYWwgPSBmdW5jdGlvbiAoKSB7XG5cdC8vIHRoZSBvbmx5IHJlbGlhYmxlIG1lYW5zIHRvIGdldCB0aGUgZ2xvYmFsIG9iamVjdCBpc1xuXHQvLyBgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKWBcblx0Ly8gSG93ZXZlciwgdGhpcyBjYXVzZXMgQ1NQIHZpb2xhdGlvbnMgaW4gQ2hyb21lIGFwcHMuXG5cdGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHsgcmV0dXJuIHNlbGY7IH1cblx0aWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7IHJldHVybiB3aW5kb3c7IH1cblx0aWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7IHJldHVybiBnbG9iYWw7IH1cblx0dGhyb3cgbmV3IEVycm9yKCd1bmFibGUgdG8gbG9jYXRlIGdsb2JhbCBvYmplY3QnKTtcbn1cblxudmFyIGdsb2JhbCA9IGdldEdsb2JhbCgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBnbG9iYWwuZmV0Y2g7XG5cbi8vIE5lZWRlZCBmb3IgVHlwZVNjcmlwdCBhbmQgV2VicGFjay5cbmlmIChnbG9iYWwuZmV0Y2gpIHtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZ2xvYmFsLmZldGNoLmJpbmQoZ2xvYmFsKTtcbn1cblxuZXhwb3J0cy5IZWFkZXJzID0gZ2xvYmFsLkhlYWRlcnM7XG5leHBvcnRzLlJlcXVlc3QgPSBnbG9iYWwuUmVxdWVzdDtcbmV4cG9ydHMuUmVzcG9uc2UgPSBnbG9iYWwuUmVzcG9uc2U7IiwiZXhwb3J0IGNsYXNzIEF0dGVuZGFuY2Uge1xuICAgIGlkOiBudW1iZXI7XG4gICAgcHJheWVyVGltZTogc3RyaW5nO1xuICAgIGRhdGU6IERhdGUgPSBuZXcgRGF0ZSgpO1xuXG4gICAgdG9kYXkgPSB0aGlzLmRhdGUuZ2V0RGF0ZSgpICsgXCIvXCIgKyAodGhpcy5kYXRlLmdldE1vbnRoKCkgKyAxKSArIFwiL1wiICsgdGhpcy5kYXRlLmdldEZ1bGxZZWFyKCkgKyBcIiBcIiArIHRoaXMuZGF0ZS5nZXRIb3VycygpICsgXCI6XCIgKyB0aGlzLmRhdGUuZ2V0TWludXRlcygpICsgXCI6XCIgKyB0aGlzLmRhdGUuZ2V0U2Vjb25kcygpO1xuXG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgcHJheWVyVGltZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5wcmF5ZXJUaW1lID0gcHJheWVyVGltZTtcbiAgICB9XG5cbiAgICBzaG93SW5mb0F0dGVuZGFuY2UoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuaWQgKyBcIiBcIiArIHRoaXMucHJheWVyVGltZSArIFwiIFwiICsgdGhpcy50b2RheSk7XG4gICAgfVxufSIsImV4cG9ydCBjbGFzcyBTdHVkZW50IHtcbiAgICBpZDogbnVtYmVyO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBzdXJuYW1lOiBzdHJpbmc7XG4gICAgYWJzZW50OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCBuYW1lOiBzdHJpbmcsIHN1cm5hbWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuc3VybmFtZSA9IHN1cm5hbWU7XG4gICAgICAgIHRoaXMuYWJzZW50ID0gMDtcbiAgICB9XG4gICAgaW5jcmVhc2VBYnNlbnQoKSB7XG4gICAgICAgIHRoaXMuYWJzZW50ID0gdGhpcy5hYnNlbnQgKyAxO1xuICAgIH1cblxuICAgIHNldE5hbWUobmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgfVxuICAgIHNldFN1cm5hbWUoc3VybmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc3VybmFtZSA9IHN1cm5hbWU7XG4gICAgfVxuXG4gICAgc2hvd0luZm9TdHVkZW50KCkge1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm5hbWUgKyBcIiBcIiArIHRoaXMuc3VybmFtZSArIFwiIFwiICsgdGhpcy5hYnNlbnQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFN0dWRlbnQgfSBmcm9tIFwiLi9zdHVkZW50XCI7XG5pbXBvcnQgeyBBdHRlbmRhbmNlIH0gZnJvbSBcIi4vYXR0ZW5kYW5jZVwiO1xuZXhwb3J0IGNsYXNzIFN0dWRlbnRBdHRlbmRhbmNlIHtcbiAgICBzdHVkZW50OiBTdHVkZW50O1xuICAgIGF0dGVuZGFuY2U6IEF0dGVuZGFuY2U7XG4gICAgaXNBYnNlbmNlOiBCb29sZWFuO1xuXG4gICAgY29uc3RydWN0b3Ioc3R1ZGVudDogU3R1ZGVudCwgYXR0ZW5kYW5jZTogQXR0ZW5kYW5jZSwgaXNBYnNlbmNlOiBCb29sZWFuKSB7XG4gICAgICAgIHRoaXMuc3R1ZGVudCA9IHN0dWRlbnQ7XG4gICAgICAgIHRoaXMuYXR0ZW5kYW5jZSA9IGF0dGVuZGFuY2U7XG4gICAgICAgIHRoaXMuaXNBYnNlbmNlID0gaXNBYnNlbmNlO1xuICAgIH1cblxuICAgIGdldEF0dGVuZGFuY2UoKTpBdHRlbmRhbmNle1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRlbmRhbmNlO1xuICAgIH1cbiAgICBnZXRTdHVkZW50KCk6U3R1ZGVudHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R1ZGVudDtcbiAgICB9XG5cbiAgICBnZXRJc0Fic2VuY2VUb1N0cmluZyhpc0Fic2VuY2U6IGJvb2xlYW4pOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gaXNBYnNlbmNlID8gXCJWYXJcIiA6IFwiWW9rXCI7XG4gICAgfVxuXG4gICAgc2hvd0luZm9TdHVkZW50QXR0ZW5kYW5jZSgpIHtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5zdHVkZW50ICsgXCIgXCIgKyB0aGlzLmF0dGVuZGFuY2UgKyBcIiBcIiArIHRoaXMuZ2V0SXNBYnNlbmNlVG9TdHJpbmcpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBTdHVkZW50U2VydmljZSB9IGZyb20gXCIuL3NlcnZpY2Uvc3R1ZGVudF9zZXJ2aWNlXCI7XG5pbXBvcnQgeyBBdHRlbmRhbmNlU2VydmljZSB9IGZyb20gXCIuL3NlcnZpY2UvYXR0ZW5kYW5jZV9zZXJ2aWNlXCI7XG5pbXBvcnQgeyBTdHVkZW50IH0gZnJvbSBcIi4vZG9tYWluL3N0dWRlbnRcIjtcbmltcG9ydCB7IEF0dGVuZGFuY2UgfSBmcm9tIFwiLi9kb21haW4vYXR0ZW5kYW5jZVwiO1xuXG5jb25zdCBzdHVkZW50U2VydmljZSA9IG5ldyBTdHVkZW50U2VydmljZSgpO1xuY29uc3QgYXR0ZW5kYW5jZVNlcnZpY2UgPSBuZXcgQXR0ZW5kYW5jZVNlcnZpY2UoKTtcblxuY29uc3QgYWRkU3R1ZGVudEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkU3R1ZGVudEJ1dHRvblwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbmNvbnN0IHVwZGF0ZVN0dWRlbnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVwZGF0ZVN0dWRlbnRCdXR0b25cIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG5jb25zdCB0YWtlQXR0ZW5kYW5jZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFrZUF0dGVuZGFuY2VCdXR0b25cIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG5cbmNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmFtZUlucHV0XCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG5jb25zdCBzdXJuYW1lSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1cm5hbWVJbnB1dFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuXG5jb25zdCBzZWxlY3RQcmF5ZXJUaW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxlY3RQcmF5ZXJUaW1lXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG5jb25zdCBzZWxlY3RMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoXCJzZWxlY3RBYnNlbmNlXCIpIGFzIE5vZGVMaXN0T2Y8SFRNTFNlbGVjdEVsZW1lbnQ+O1xuY29uc3QgbXlTZWxlY3RBdHRlbmRhbmNlSWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbGVjdExpc3RXaXRoQXR0ZW5kYW5jZUlkXCIpIGFzIEhUTUxUYWJsZVNlY3Rpb25FbGVtZW50O1xuY29uc3QgbXlTZWxlY3RTdHVkZW50SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm15U2VsZWN0U3R1ZGVudElkXCIpIGFzIEhUTUxUYWJsZVNlY3Rpb25FbGVtZW50O1xuXG5jb25zdCBzdHVkZW50VGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0dWRlbnRMaXN0Qm9keVwiKSBhcyBIVE1MVGFibGVFbGVtZW50O1xuY29uc3QgdGFrZUF0dGVuZGFuY2VUYWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFrZUF0dGVuZGFuY2VCb2R5XCIpIGFzIEhUTUxUYWJsZUVsZW1lbnQ7XG5jb25zdCB0Ym9keUxpc3RGb3JBdHRlbmRhbmNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0Ym9keUxpc3RGb3JBdHRlbmRhbmNlXCIpIGFzIEhUTUxUYWJsZVNlY3Rpb25FbGVtZW50O1xuXG5cbmxldCBzZWxlY3RlZFN0dWRlbnQ6IFN0dWRlbnQ7XG5zaG93TGlzdHMoKTtcblxuYWRkU3R1ZGVudEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKGUpID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zb2xlLmxvZyhcIkVrbGVtZVwiKTtcbiAgYXdhaXQgc3R1ZGVudFNlcnZpY2UuYWRkU3R1ZGVudChuYW1lSW5wdXQudmFsdWUsIHN1cm5hbWVJbnB1dC52YWx1ZSk7XG4gIG5hbWVJbnB1dC52YWx1ZSA9IFwiXCI7XG4gIHN1cm5hbWVJbnB1dC52YWx1ZSA9IFwiXCI7XG4gIHNob3dMaXN0cygpO1xufSk7XG5cbnVwZGF0ZVN0dWRlbnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIChlKSA9PiB7XG4gIGNvbnNvbGUubG9nKFwiR8O8bmNlbGxlbWVcIik7XG4gIGF3YWl0IHN0dWRlbnRTZXJ2aWNlLnVwZGF0ZVN0dWRlbnQoc2VsZWN0ZWRTdHVkZW50LmlkLCBuYW1lSW5wdXQudmFsdWUsIHN1cm5hbWVJbnB1dC52YWx1ZSk7XG4gIG5hbWVJbnB1dC52YWx1ZSA9IFwiXCI7XG4gIHN1cm5hbWVJbnB1dC52YWx1ZSA9IFwiXCI7XG4gIHNob3dMaXN0cygpO1xuICBhZGRTdHVkZW50QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gIHVwZGF0ZVN0dWRlbnRCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG59KTtcblxudGFrZUF0dGVuZGFuY2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIChlKSA9PiB7XG4gIGNvbnNvbGUubG9nKFwiWW9rbGFtYSBhbG1hXCIpO1xuICBjb25zdCBtYXAgPSBuZXcgTWFwKCk7XG4gKGF3YWl0IHN0dWRlbnRTZXJ2aWNlLmdldFN0dWRlbnRzKCkpLmZvckVhY2goKHN0dWRlbnQ6IFN0dWRlbnQsIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICBtYXAuc2V0KHN0dWRlbnQsIHNlbGVjdExpc3RbaW5kZXhdLnZhbHVlID09PSBcIitcIik7XG4gIH0pXG4gIGF0dGVuZGFuY2VTZXJ2aWNlLnRha2VBdHRlbmRhbmNlKHNlbGVjdFByYXllclRpbWUudmFsdWUsIG1hcCk7XG4gIGNvbnNvbGUubG9nKGF0dGVuZGFuY2VTZXJ2aWNlLmdldEF0dGVuZGFuY2VMaXN0KCkpO1xuICBzaG93TGlzdHMoKTtcbiAgbGlzdFdpdGhBdHRlbmRhbmNlSWQoKTtcbiAgLy8gbGlzdFN0dWRlbnRzRm9yQXR0ZW5kYW5jZSgpO1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbn0pO1xuXG5cbmZ1bmN0aW9uIHNob3dMaXN0cygpIHtcblxuICBzaG93U3R1ZGVudExpc3QoKTtcbiAgc2hvd0F0dGVuZGFuY2VMaXN0KCk7XG59XG4vKipcbiAqIMOWxJ9yZW5jaSBsaXN0ZXNpbmkgZWtyYW5hIHlhemTEsXJtYSAodGFibG9kYSlcbiAqL1xuIGFzeW5jIGZ1bmN0aW9uIHNob3dTdHVkZW50TGlzdCgpIHtcbiAgc3R1ZGVudFRhYmxlLmlubmVySFRNTCA9IFwiXCI7XG4gIChhd2FpdCBzdHVkZW50U2VydmljZS5nZXRTdHVkZW50cygpKS5mb3JFYWNoKChzdHVkZW50OiBTdHVkZW50KSA9PiB7XG4gICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgY29uc3QgdGRJZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICBjb25zdCB0ZE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgY29uc3QgdGRTdXJuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgIGNvbnN0IHRkQWJzZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgIGNvbnN0IHRkRGVsZXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgIGNvbnN0IHRkVXBkYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgIGNvbnN0IHRkQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY29uc3QgdXBkYXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcblxuICAgIHRkSWQuaW5uZXJIVE1MID0gc3R1ZGVudC5pZC50b1N0cmluZygpO1xuICAgIHRkTmFtZS5pbm5lclRleHQgPSBzdHVkZW50Lm5hbWU7XG4gICAgdGRTdXJuYW1lLmlubmVyVGV4dCA9IHN0dWRlbnQuc3VybmFtZTtcbiAgICB0ZEFic2VudC5pbm5lclRleHQgPSBzdHVkZW50LmFic2VudC50b1N0cmluZygpO1xuICAgIGRlbGV0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImJ0biBidG4tZGFuZ2VyXCIpO1xuICAgIGRlbGV0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImRlbGV0ZUJ1dHRvblwiKTtcbiAgICBkZWxldGVCdXR0b24uc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLCBzdHVkZW50LmlkLnRvU3RyaW5nKCkpO1xuICAgIGRlbGV0ZUJ1dHRvbi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJmYXMgZmEtdHJhc2gtYWx0XCI+PC9pPic7XG4gICAgdXBkYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiYnRuIGJ0bi1wcmltYXJ5XCIpO1xuICAgIHVwZGF0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInVwZGF0ZUJ1dHRvblwiKTtcbiAgICB1cGRhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLCBzdHVkZW50LmlkLnRvU3RyaW5nKCkpO1xuICAgIHVwZGF0ZUJ1dHRvbi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1lZGl0XCI+PC9pPic7XG4gICAgdGREZWxldGUuYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uKTtcbiAgICB0ZFVwZGF0ZS5hcHBlbmRDaGlsZCh1cGRhdGVCdXR0b24pO1xuICAgIHRyLmFwcGVuZENoaWxkKHRkSWQpO1xuICAgIHRyLmFwcGVuZENoaWxkKHRkTmFtZSk7XG4gICAgdHIuYXBwZW5kQ2hpbGQodGRTdXJuYW1lKTtcbiAgICB0ci5hcHBlbmRDaGlsZCh0ZEFic2VudCk7XG4gICAgdGRCdXR0b24uYXBwZW5kQ2hpbGQodGREZWxldGUpO1xuICAgIHRkQnV0dG9uLmFwcGVuZENoaWxkKHRkVXBkYXRlKTtcbiAgICB0ZEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYXJvdW5kXCIpO1xuICAgIHRyLmFwcGVuZENoaWxkKHRkQnV0dG9uKTtcbiAgICBzdHVkZW50VGFibGUuYXBwZW5kQ2hpbGQodHIpO1xuXG4gICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiICwgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJTaWxtZVwiKTtcbiAgICAgIHN0dWRlbnRTZXJ2aWNlLmRlbGV0ZVN0dWRlbnQoTnVtYmVyKGRlbGV0ZUJ1dHRvbi5kYXRhc2V0LmlkKSk7XG4gICAgICBzaG93TGlzdHMoKTtcbiAgICB9KTtcbiAgICB1cGRhdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHNlbGVjdGVkU3R1ZGVudCA9IHN0dWRlbnQ7XG4gICAgICBuYW1lSW5wdXQudmFsdWUgPSBzZWxlY3RlZFN0dWRlbnQubmFtZTtcbiAgICAgIHN1cm5hbWVJbnB1dC52YWx1ZSA9IHNlbGVjdGVkU3R1ZGVudC5zdXJuYW1lO1xuICAgICAgYWRkU3R1ZGVudEJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICB1cGRhdGVTdHVkZW50QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICB1cGRhdGVTdHVkZW50QnV0dG9uLnNldEF0dHJpYnV0ZShcImRhdGEtaWRcIiwgc2VsZWN0ZWRTdHVkZW50LmlkLnRvU3RyaW5nKCkpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gc2hvd0F0dGVuZGFuY2VMaXN0KCkge1xuICB0YWtlQXR0ZW5kYW5jZVRhYmxlLmlubmVySFRNTCA9IFwiXCI7XG4gIChhd2FpdCBzdHVkZW50U2VydmljZS5nZXRTdHVkZW50cygpKS5mb3JFYWNoKChzdHVkZW50OiB7IGlkOiB7IHRvU3RyaW5nOiAoKSA9PiBzdHJpbmc7IH07IG5hbWU6IHN0cmluZzsgc3VybmFtZTogc3RyaW5nOyB9KSA9PiB7XG4gICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgY29uc3QgdGRJZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICBjb25zdCB0ZE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgY29uc3QgdGRTdXJuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgIGNvbnN0IHRkT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG4gICAgY29uc3Qgb3B0aW9uMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgY29uc3Qgb3B0aW9uMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG5cbiAgICB0ZElkLmlubmVySFRNTCA9IHN0dWRlbnQuaWQudG9TdHJpbmcoKTtcbiAgICB0ZE5hbWUuaW5uZXJUZXh0ID0gc3R1ZGVudC5uYW1lO1xuICAgIHRkU3VybmFtZS5pbm5lclRleHQgPSBzdHVkZW50LnN1cm5hbWU7XG4gICAgc2VsZWN0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZm9ybS1zZWxlY3RcIik7XG4gICAgc2VsZWN0LnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJzZWxlY3RBYnNlbmNlXCIpO1xuICAgIHNlbGVjdC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIFwic2VsZWN0IGV4YW1wbGVcIik7XG4gICAgb3B0aW9uMS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcIitcIik7XG4gICAgb3B0aW9uMi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcIi1cIik7XG4gICAgb3B0aW9uMS5pbm5lclRleHQgPSBcIitcIjtcbiAgICBvcHRpb24yLmlubmVyVGV4dCA9IFwiLVwiO1xuXG4gICAgc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjEpO1xuICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24yKTtcbiAgICB0ZE9wdGlvbi5hcHBlbmRDaGlsZChzZWxlY3QpO1xuICAgIHRyLmFwcGVuZENoaWxkKHRkSWQpO1xuICAgIHRyLmFwcGVuZENoaWxkKHRkTmFtZSk7XG4gICAgdHIuYXBwZW5kQ2hpbGQodGRTdXJuYW1lKTtcbiAgICB0ci5hcHBlbmRDaGlsZCh0ZE9wdGlvbik7XG4gICAgdGFrZUF0dGVuZGFuY2VUYWJsZS5hcHBlbmRDaGlsZCh0cik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBsaXN0V2l0aEF0dGVuZGFuY2VJZCgpIHtcbiAgY29uc3QgYXR0ZW5kYW5jZUxpc3QgPSBhdHRlbmRhbmNlU2VydmljZS5nZXRBdHRlbmRhbmNlTGlzdCgpO1xuICBjb25zdCBzZWxlY3RMaXN0V2l0aEF0dGVuZGFuY2VJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsZWN0TGlzdFdpdGhBdHRlbmRhbmNlSWRcIikgYXMgSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQ7XG4gIHNlbGVjdExpc3RXaXRoQXR0ZW5kYW5jZUlkLmlubmVySFRNTCA9IFwiXCI7XG4gIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gIG9wdGlvbi5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcImRpc2FibGVkXCIpO1xuICBvcHRpb24uaW5uZXJUZXh0ID0gXCJMw7x0ZmVuIExpc3RlbGVtZWsgxLBzdGVkxJ9pbml6IFZha3RpIFNlw6dpbml6Li4uXCI7XG4gIHNlbGVjdExpc3RXaXRoQXR0ZW5kYW5jZUlkLmFwcGVuZENoaWxkKG9wdGlvbik7XG4gIGF0dGVuZGFuY2VMaXN0LmZvckVhY2goKGF0dGVuZGFuY2UpID0+IHtcbiAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBhdHRlbmRhbmNlLmlkLnRvU3RyaW5nKCkpO1xuICAgIG9wdGlvbi5pbm5lclRleHQgPSBhdHRlbmRhbmNlLnRvZGF5ICsgXCIgXCIgKyBhdHRlbmRhbmNlLnByYXllclRpbWU7XG4gICAgc2VsZWN0TGlzdFdpdGhBdHRlbmRhbmNlSWQuYXBwZW5kQ2hpbGQob3B0aW9uKTtcblxuICB9KTtcbn1cbiIsImltcG9ydCB7U3R1ZGVudH0gZnJvbSBcIi4uL2RvbWFpbi9zdHVkZW50XCI7XG5pbXBvcnQge0F0dGVuZGFuY2V9IGZyb20gXCIuLi9kb21haW4vYXR0ZW5kYW5jZVwiO1xuaW1wb3J0IHtTdHVkZW50QXR0ZW5kYW5jZX0gZnJvbSBcIi4uL2RvbWFpbi9zdHVkZW50X2F0dGVuZGFuY2VcIjtcblxuZXhwb3J0IGNsYXNzIEF0dGVuZGFuY2VTZXJ2aWNlIHtcbiAgICBhdHRlbmRhbmNlczogQXJyYXk8QXR0ZW5kYW5jZT4gPSBbXTtcbiAgICBzdHVkZW50QXR0ZW5kYW5jZXM6IEFycmF5PFN0dWRlbnRBdHRlbmRhbmNlPiA9IFtdO1xuICAgIHNlcXVlbmNlOiBudW1iZXIgPSAxO1xuXG4gICAgZ2V0QXR0ZW5kYW5jZUxpc3QoKTogQXJyYXk8QXR0ZW5kYW5jZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRlbmRhbmNlcztcbiAgICB9XG5cbiAgICBnZXRBdHRlbmRhbmNlKGF0dGVuZGFuY2VJZDogbnVtYmVyKTogQXR0ZW5kYW5jZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dGVuZGFuY2VzLmZpbHRlcihcbiAgICAgICAgICAgIChhdHRlbmRhbmNlKSA9PiBhdHRlbmRhbmNlLmlkID09PSBhdHRlbmRhbmNlSWQpWzBdO1xuICAgIH1cblxuICAgIGdldFN0dWRlbnRBdHRlbmRhbmNlcygpOiBBcnJheTxTdHVkZW50QXR0ZW5kYW5jZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHVkZW50QXR0ZW5kYW5jZXM7XG4gICAgfVxuXG4gICAgZ2V0QXR0ZW5kYW5jZXNCeUF0dGVuZGFuY2VJZChhdHRlbmRhbmNlSWQ6IG51bWJlcik6IEFycmF5PFN0dWRlbnRBdHRlbmRhbmNlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0dWRlbnRBdHRlbmRhbmNlcy5maWx0ZXIoXG4gICAgICAgICAgICAoc3R1ZGVudEF0dGVuZGFuY2UpID0+XG4gICAgICAgICAgICAgICAgc3R1ZGVudEF0dGVuZGFuY2UuZ2V0QXR0ZW5kYW5jZSgpLmlkID09PSBhdHRlbmRhbmNlSWQpO1xuICAgIH1cblxuICAgIGdldEF0dGVuZGFuY2VzQnlTdHVkZW50SWQoc3R1ZGVudElkOiBudW1iZXIpOiBBcnJheTxTdHVkZW50QXR0ZW5kYW5jZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHVkZW50QXR0ZW5kYW5jZXMuZmlsdGVyKFxuICAgICAgICAgICAgKHN0dWRlbnRBdHRlbmRhbmNlKSA9PiBzdHVkZW50QXR0ZW5kYW5jZS5nZXRTdHVkZW50KCkuaWQgPT09IHN0dWRlbnRJZCk7XG4gICAgfVxuXG4gICAgdGFrZUF0dGVuZGFuY2UocHJheWVyVGltZTogc3RyaW5nLCBhdHRlbmRhbmNlTWFwOiBNYXA8U3R1ZGVudCwgYm9vbGVhbj4pIHtcbiAgICAgICAgY29uc3QgYXR0ZW5kYW5jZSA9IG5ldyBBdHRlbmRhbmNlKHRoaXMuc2VxdWVuY2UrKywgcHJheWVyVGltZSk7XG4gICAgICAgIHRoaXMuYXR0ZW5kYW5jZXMucHVzaChhdHRlbmRhbmNlKTtcblxuICAgICAgICBhdHRlbmRhbmNlTWFwLmZvckVhY2goKGlzQWJzZW5jZSwgc3R1ZGVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3R1ZGVudEF0dGVuZGFuY2UgPSBuZXcgU3R1ZGVudEF0dGVuZGFuY2Uoc3R1ZGVudCwgYXR0ZW5kYW5jZSwgaXNBYnNlbmNlKTtcbiAgICAgICAgICAgIGlmICghaXNBYnNlbmNlKXtcbiAgICAgICAgICAgICAgICBzdHVkZW50LmluY3JlYXNlQWJzZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0dWRlbnRBdHRlbmRhbmNlcy5wdXNoKHN0dWRlbnRBdHRlbmRhbmNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgU3R1ZGVudCB9IGZyb20gXCIuLi9kb21haW4vc3R1ZGVudFwiO1xuaW1wb3J0IGZldGNoIGZyb20gJ25vZGUtZmV0Y2gnO1xuXG52YXIgYXBpVXJsOiBzdHJpbmcgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAyL2FwaS92MSc7XG5cbmV4cG9ydCBjbGFzcyBTdHVkZW50U2VydmljZSB7XG4gICAgcHJpdmF0ZSBfc3R1ZGVudHM6IEFycmF5PFN0dWRlbnQ+ID0gW107XG4gICAgcHJpdmF0ZSBfc2VxdWVuY2U6IG51bWJlciA9IDA7XG4gICAgXG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5mZXRjaFN0dWRlbnRzKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgZmV0Y2hTdHVkZW50cygpOiBQcm9taXNlPFN0dWRlbnRbXT4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwaVVybCArICcvc3R1ZGVudHMnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciEgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgdGhpcy5fc3R1ZGVudHMgPSA8U3R1ZGVudFtdPkpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHVkZW50cztcbiAgICB9XG5cbiAgICBnZXRTdHVkZW50cygpOiBBcnJheTxTdHVkZW50PiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHVkZW50cztcbiAgICB9XG5cbiAgICBhc3luYyBpbmNyZWFzZUFic2VudChzdHVkZW50SWQ6IG51bWJlcikge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwaVVybCArICcvc3R1ZGVudHMvJyArIHN0dWRlbnRJZCArICcvYWJzZW50JywgeyAgIFxuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIGlkOiBzdHVkZW50SWQsXG4gICAgICAgICAgICAgICAgYWJzZW46IDFcbiAgICAgICAgICAgICB9KVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHQgaXM6ICcsIEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xuICAgICAgICBjb25zdCBzdHVkZW50ID0gdGhpcy5nZXRTdHVkZW50KHN0dWRlbnRJZCk7XG4gICAgICAgIGlmIChzdHVkZW50KSB7XG4gICAgICAgICAgICBzdHVkZW50LmFic2VudCA9IHJlc3VsdC5hYnNlbnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBhZGRTdHVkZW50KG5hbWU6IHN0cmluZywgc3VybmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXBpVXJsICsgJy9zdHVkZW50cy8nICsgdGhpcy5fc2VxdWVuY2UgKyAnLycgKyBuYW1lICsgJy8nICsgc3VybmFtZSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuX3NlcXVlbmNlKyssXG4gICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICBzdXJuYW1lOiBzdXJuYW1lLFxuICAgICAgICAgICAgICAgIGFic2VudDogMFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IhIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHQgaXM6ICcsIEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xuICAgICAgICBjb25zdCBzdHVkZW50ID0gbmV3IFN0dWRlbnQodGhpcy5fc2VxdWVuY2UsIG5hbWUsIHN1cm5hbWUpO1xuICAgICAgICB0aGlzLl9zdHVkZW50cy5wdXNoKHN0dWRlbnQpO1xuICAgIH1cblxuICAgIGFzeW5jIGFkZFN0dWRlbnRXaXRoSWQoaWQ6IG51bWJlciwgbmFtZTogc3RyaW5nLCBzdXJuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhcGlVcmwgKyAnL3N0dWRlbnRzLycgKyBpZCArICcvJyArIG5hbWUgKyAnLycgKyBzdXJuYW1lLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICBzdXJuYW1lOiBzdXJuYW1lLFxuICAgICAgICAgICAgICAgIGFic2VudDogMFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IhIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHQgaXM6ICcsIEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xuICAgICAgICBjb25zdCBzdHVkZW50ID0gbmV3IFN0dWRlbnQoaWQsIG5hbWUsIHN1cm5hbWUpO1xuICAgICAgICB0aGlzLl9zdHVkZW50cy5wdXNoKHN0dWRlbnQpO1xuICAgIH1cblxuICAgIGdldFN0dWRlbnQoc3R1ZGVudElkOiBudW1iZXIpOiBTdHVkZW50IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgd2luZG93LmZldGNoKGFwaVVybCArICcvc3R1ZGVudHMvJyArIHN0dWRlbnRJZCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJ1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgICAgICAgLnRoZW4oanNvbiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coanNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICByZXR1cm4gdGhpcy5fc3R1ZGVudHMuZmluZChzdHVkZW50ID0+IHN0dWRlbnQuaWQgPT09IHN0dWRlbnRJZCk7XG4gICAgfVxuXG4gICAgZ2V0U3R1ZGVudEJ5SWQoc3R1ZGVudElkOiBudW1iZXIpOiBTdHVkZW50IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0dWRlbnRzLmZpbmQoc3R1ZGVudCA9PiBzdHVkZW50LmlkID09PSBzdHVkZW50SWQpO1xuICAgIH1cblxuICAgIGFzeW5jIHVwZGF0ZVN0dWRlbnQoc3R1ZGVudElkOiBudW1iZXIsIG5hbWU6IHN0cmluZywgc3VybmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXBpVXJsICsgJy9zdHVkZW50cy8nICsgc3R1ZGVudElkICsgJy8nICsgbmFtZSArICcvJyArIHN1cm5hbWUsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgaWQ6IHN0dWRlbnRJZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgIHN1cm5hbWU6IHN1cm5hbWVcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zb2xlLmxvZygncmVzdWx0IGlzOiAnLCBKU09OLnN0cmluZ2lmeShyZXN1bHQpKTtcbiAgICAgICAgY29uc3Qgc3R1ZGVudCA9IHRoaXMuZ2V0U3R1ZGVudChzdHVkZW50SWQpO1xuICAgICAgICBpZiAoc3R1ZGVudCkge1xuICAgICAgICAgICAgc3R1ZGVudC5zZXROYW1lKG5hbWUpO1xuICAgICAgICAgICAgc3R1ZGVudC5zZXRTdXJuYW1lKHN1cm5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgdXBkYXRlU3R1ZGVudFdpdGhJZChzdHVkZW50SWQ6IG51bWJlciwgbmFtZTogc3RyaW5nLCBzdXJuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhcGlVcmwgKyAnL3N0dWRlbnRzLycgKyBzdHVkZW50SWQgKyAnLycgKyBuYW1lICsgJy8nICsgc3VybmFtZSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBpZDogc3R1ZGVudElkLFxuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgc3VybmFtZTogc3VybmFtZVxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciEgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc29sZS5sb2coJ3Jlc3VsdCBpczogJywgSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7XG4gICAgICAgIGNvbnN0IHN0dWRlbnQgPSB0aGlzLmdldFN0dWRlbnQoc3R1ZGVudElkKTtcbiAgICAgICAgaWYgKHN0dWRlbnQpIHtcbiAgICAgICAgICAgIHN0dWRlbnQuc2V0TmFtZShuYW1lKTtcbiAgICAgICAgICAgIHN0dWRlbnQuc2V0U3VybmFtZShzdXJuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGRlbGV0ZVN0dWRlbnQoc3R1ZGVudElkOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhcGlVcmwgKyAnL3N0dWRlbnRzLycgKyBzdHVkZW50SWQsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IhIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ3Jlc3VsdCBpczogJywgSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7XG4gICAgICAgIGNvbnN0IHN0dWRlbnRzID0gdGhpcy5fc3R1ZGVudHMuZmlsdGVyKHN0dWRlbnQgPT4gc3R1ZGVudC5pZCAhPT0gc3R1ZGVudElkKTtcbiAgICAgICAgdGhpcy5fc3R1ZGVudHMgPSBzdHVkZW50cztcbiAgICB9XG5cbiAgICBhc3luYyBkZWxldGVTdHVkZW50V2l0aElkKHN0dWRlbnRJZDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXBpVXJsICsgJy9zdHVkZW50cy8nICsgc3R1ZGVudElkLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHQgaXM6ICcsIEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xuICAgICAgICBjb25zdCBzdHVkZW50cyA9IHRoaXMuX3N0dWRlbnRzLmZpbHRlcihzdHVkZW50ID0+IHN0dWRlbnQuaWQgIT09IHN0dWRlbnRJZCk7XG4gICAgICAgIHRoaXMuX3N0dWRlbnRzID0gc3R1ZGVudHM7XG4gICAgfVxufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDcpO1xuIl0sIm5hbWVzIjpbImdsb2JhbCIsInNlbGYiLCJ3aW5kb3ciLCJFcnJvciIsImdldEdsb2JhbCIsIm1vZHVsZSIsImV4cG9ydHMiLCJmZXRjaCIsImJpbmQiLCJIZWFkZXJzIiwiUmVxdWVzdCIsIlJlc3BvbnNlIiwiY29uc3RydWN0b3IiLCJpZCIsInByYXllclRpbWUiLCJkYXRlIiwiRGF0ZSIsInRvZGF5IiwidGhpcyIsImdldERhdGUiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsInNob3dJbmZvQXR0ZW5kYW5jZSIsImNvbnNvbGUiLCJsb2ciLCJuYW1lIiwic3VybmFtZSIsImFic2VudCIsImluY3JlYXNlQWJzZW50Iiwic2V0TmFtZSIsInNldFN1cm5hbWUiLCJzaG93SW5mb1N0dWRlbnQiLCJzdHVkZW50IiwiYXR0ZW5kYW5jZSIsImlzQWJzZW5jZSIsImdldEF0dGVuZGFuY2UiLCJnZXRTdHVkZW50IiwiZ2V0SXNBYnNlbmNlVG9TdHJpbmciLCJzaG93SW5mb1N0dWRlbnRBdHRlbmRhbmNlIiwic3R1ZGVudFNlcnZpY2UiLCJTdHVkZW50U2VydmljZSIsImF0dGVuZGFuY2VTZXJ2aWNlIiwiQXR0ZW5kYW5jZVNlcnZpY2UiLCJhZGRTdHVkZW50QnV0dG9uIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInVwZGF0ZVN0dWRlbnRCdXR0b24iLCJ0YWtlQXR0ZW5kYW5jZUJ1dHRvbiIsIm5hbWVJbnB1dCIsInN1cm5hbWVJbnB1dCIsInNlbGVjdFByYXllclRpbWUiLCJzZWxlY3RMaXN0IiwiZ2V0RWxlbWVudHNCeU5hbWUiLCJzdHVkZW50VGFibGUiLCJ0YWtlQXR0ZW5kYW5jZVRhYmxlIiwic2VsZWN0ZWRTdHVkZW50Iiwic2hvd0xpc3RzIiwiaW5uZXJIVE1MIiwiZ2V0U3R1ZGVudHMiLCJmb3JFYWNoIiwidHIiLCJjcmVhdGVFbGVtZW50IiwidGRJZCIsInRkTmFtZSIsInRkU3VybmFtZSIsInRkQWJzZW50IiwidGREZWxldGUiLCJ0ZFVwZGF0ZSIsInRkQnV0dG9uIiwiZGVsZXRlQnV0dG9uIiwidXBkYXRlQnV0dG9uIiwidG9TdHJpbmciLCJpbm5lclRleHQiLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJkZWxldGVTdHVkZW50IiwiTnVtYmVyIiwiZGF0YXNldCIsInZhbHVlIiwic3R5bGUiLCJkaXNwbGF5Iiwic2hvd1N0dWRlbnRMaXN0IiwidGRPcHRpb24iLCJzZWxlY3QiLCJvcHRpb24xIiwib3B0aW9uMiIsInNob3dBdHRlbmRhbmNlTGlzdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImFkZFN0dWRlbnQiLCJ1cGRhdGVTdHVkZW50IiwibWFwIiwiTWFwIiwiaW5kZXgiLCJzZXQiLCJ0YWtlQXR0ZW5kYW5jZSIsImdldEF0dGVuZGFuY2VMaXN0IiwiYXR0ZW5kYW5jZUxpc3QiLCJzZWxlY3RMaXN0V2l0aEF0dGVuZGFuY2VJZCIsIm9wdGlvbiIsImxpc3RXaXRoQXR0ZW5kYW5jZUlkIiwiYXR0ZW5kYW5jZXMiLCJzdHVkZW50QXR0ZW5kYW5jZXMiLCJzZXF1ZW5jZSIsImF0dGVuZGFuY2VJZCIsImZpbHRlciIsImdldFN0dWRlbnRBdHRlbmRhbmNlcyIsImdldEF0dGVuZGFuY2VzQnlBdHRlbmRhbmNlSWQiLCJzdHVkZW50QXR0ZW5kYW5jZSIsImdldEF0dGVuZGFuY2VzQnlTdHVkZW50SWQiLCJzdHVkZW50SWQiLCJhdHRlbmRhbmNlTWFwIiwiQXR0ZW5kYW5jZSIsInB1c2giLCJTdHVkZW50QXR0ZW5kYW5jZSIsImFwaVVybCIsIl9zdHVkZW50cyIsIl9zZXF1ZW5jZSIsImZldGNoU3R1ZGVudHMiLCJyZXNwb25zZSIsIm1ldGhvZCIsImhlYWRlcnMiLCJBY2NlcHQiLCJvayIsInN0YXR1cyIsInJlc3VsdCIsImpzb24iLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJib2R5IiwiYWJzZW4iLCJzdGF0dXNUZXh0IiwiU3R1ZGVudCIsImFkZFN0dWRlbnRXaXRoSWQiLCJ0aGVuIiwiZmluZCIsImdldFN0dWRlbnRCeUlkIiwidXBkYXRlU3R1ZGVudFdpdGhJZCIsInN0dWRlbnRzIiwiZGVsZXRlU3R1ZGVudFdpdGhJZCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJjYWxsIl0sInNvdXJjZVJvb3QiOiIifQ==
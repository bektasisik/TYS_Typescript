(()=>{"use strict";var t={300:(t,e)=>{var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n)return n;throw new Error("unable to locate global object")}();t.exports=e=n.fetch,n.fetch&&(e.default=n.fetch.bind(n)),e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response},406:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Student=void 0,e.Student=class{constructor(t,e,n,a){this._id=t,this._name=e,this._surname=n,this._absent=a}getId(){return this._id}getName(){return this._name}getSurname(){return this._surname}getAbsent(){return this._absent}}},287:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StudentService=void 0;const r=n(406),s=a(n(300));var d="http://localhost:8080/api/v1/students",i=/^[a-zA-ZğüşıöçĞÜŞİÖÇ ]{3,20}$/,o=/^[a-zA-ZğüşıöçĞÜŞİÖÇ ]{2,20}$/;e.StudentService=class{constructor(){this._students=[]}async getStudents(){const t=await(0,s.default)(d,{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Error! status: ${t.status}`);const e=await t.json();return this._students=[],e.forEach((t=>{this._students.push(new r.Student(t.id,t.name,t.surname,t.absent))})),this._students}async getStudent(t){const e=await(0,s.default)(d+"/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok)throw new Error(`Error! status: ${e.status}`);const n=await e.json(),a=JSON.parse(JSON.stringify(n));return new r.Student(a.getId(),a.getName(),a.getSurname(),a.getAbsent())}async addStudent(t,e){this.validateStudent(t,e);const n=await(0,s.default)(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,surname:e})});if(!n.ok)throw new Error(`Error! status: ${n.status}`)}async updateStudent(t,e,n){this.validateStudent(e,n);const a=await(0,s.default)(d+"/"+t.getId(),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e,surname:n})});if(!a.ok)throw new Error(`Error! status: ${a.status}`)}async validateStudent(t,e){if(!this.isValid(t,e))throw new Error("Name or surname is not valid")}async isValid(t,e){return i.test(t)&&o.test(e)}async deleteStudent(t){const e=await(0,s.default)(d+"/"+t,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok)throw new Error(`Error! status: ${e.status}`)}}},755:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.studentCrud=void 0;const a=new(n(287).StudentService),r=document.getElementById("addStudentButton"),s=document.getElementById("updateStudentButton"),d=document.getElementById("nameInput"),i=document.getElementById("surnameInput"),o=document.getElementById("studentListBody");let u;async function l(){o.innerHTML="",(await a.getStudents()).forEach((t=>{const e=document.createElement("tr"),n=document.createElement("td"),c=document.createElement("td"),p=document.createElement("td"),m=document.createElement("td"),h=document.createElement("td"),f=document.createElement("td"),y=document.createElement("td"),v=document.createElement("button"),g=document.createElement("button");n.innerHTML=t.getId().toString(),c.innerText=t.getName(),p.innerText=t.getSurname(),m.innerText=t.getAbsent().toString(),v.setAttribute("class","btn btn-danger"),v.setAttribute("id","deleteButton"),v.setAttribute("data-id",t.getId().toString()),v.innerHTML='<i class="fas fa-trash-alt"></i>',g.setAttribute("class","btn btn-primary"),g.setAttribute("id","updateButton"),g.setAttribute("data-id",t.getId().toString()),g.innerHTML='<i class="fa-solid fa-edit"></i>',h.appendChild(v),f.appendChild(g),e.appendChild(n),e.appendChild(c),e.appendChild(p),e.appendChild(m),y.appendChild(h),y.appendChild(f),y.setAttribute("class","d-flex justify-content-around"),e.appendChild(y),o.appendChild(e),v.addEventListener("click",(async t=>{t.preventDefault(),console.log("Silme"),await a.deleteStudent(Number(v.dataset.id)),l(),alert("Öğrenci Silindi")})),g.addEventListener("click",(e=>{e.preventDefault(),u=t,d.value=u.getName(),i.value=u.getSurname(),g.style.display="none",v.style.display="none",s.style.display="block",r.style.display="none",s.setAttribute("data-id",u.getId().toString())}))}))}e.studentCrud=function(){l(),r.addEventListener("click",(async t=>{t.preventDefault(),console.log("Ekleme");try{await a.addStudent(d.value,i.value),l(),alert(d.value+" "+i.value+"\nÖğrenci Eklendi"),d.value="",i.value=""}catch(t){alert("Talebe ADI ve SOYADI uygun formatta değil\n3-20 karakter arası sadece harf giriniz\nÖrnek: Bektaş Işık")}})),s.addEventListener("click",(async t=>{t.preventDefault(),console.log("Güncelleme");try{await a.updateStudent(u,d.value,i.value),d.value="",i.value="",r.style.display="block",s.style.display="none",l(),alert("Öğrenci Güncellendi")}catch(t){alert("Talebe ADI ve SOYADI uygun formatta değil\n3-20 karakter arası sadece harf giriniz\nÖrnek: Bektaş Işık")}}))}}},e={};(0,function n(a){var r=e[a];if(void 0!==r)return r.exports;var s=e[a]={exports:{}};return t[a].call(s.exports,s,s.exports,n),s.exports}(755).studentCrud)()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSSxVQUNaLFVBQ1VoQyxFQUFld0MsV0FBV2xDLEVBQVUrQixNQUFPOUIsRUFBYThCLE9BQzlEM0IsSUFDQTBCLE1BQU05QixFQUFVK0IsTUFBUSxJQUFNOUIsRUFBYThCLE1BQVEscUJBQ25EL0IsRUFBVStCLE1BQVEsR0FDbEI5QixFQUFhOEIsTUFBUSxFLENBQ3ZCLFNBQ0VELE1BQU0seUcsS0FJZC9CLEVBQW9CdUIsaUJBQWlCLFNBQVNqRCxNQUFPa0QsSUFDakRBLEVBQUVDLGlCQUNGQyxRQUFRQyxJQUFJLGNBQ1osVUFDVWhDLEVBQWV5QyxjQUFjaEMsRUFBaUJILEVBQVUrQixNQUFPOUIsRUFBYThCLE9BQ2xGL0IsRUFBVStCLE1BQVEsR0FDbEI5QixFQUFhOEIsTUFBUSxHQUNyQm5DLEVBQWlCb0MsTUFBTUMsUUFBVSxRQUNqQ2xDLEVBQW9CaUMsTUFBTUMsUUFBVSxPQUNwQzdCLElBQ0EwQixNQUFNLHNCLENBQ1IsU0FDRUEsTUFBTSx5RyxJQUdsQixDLEdDM0NJTSxFQUEyQixDQUFDLEdDTWhDLEVESEEsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQkUsSUFBakJELEVBQ0gsT0FBT0EsRUFBYTFGLFFBR3JCLElBQUlELEVBQVN3RixFQUF5QkUsR0FBWSxDQUdqRHpGLFFBQVMsQ0FBQyxHQU9YLE9BSEE0RixFQUFvQkgsR0FBVUksS0FBSzlGLEVBQU9DLFFBQVNELEVBQVFBLEVBQU9DLFFBQVN3RixHQUdwRXpGLEVBQU9DLE9BQ2YsQ0N0QkEsTUFPQThGLGMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90eXMvLi9ub2RlX21vZHVsZXMvbm9kZS1mZXRjaC9icm93c2VyLmpzIiwid2VicGFjazovL3R5cy8uL3NyYy9kb21haW4vc3R1ZGVudC50cyIsIndlYnBhY2s6Ly90eXMvLi9zcmMvc2VydmljZS9zdHVkZW50X3NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vdHlzLy4vc3JjL3ZpZXcvc3R1ZGVudC1jcnVkLnRzIiwid2VicGFjazovL3R5cy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90eXMvLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIHJlZjogaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtZ2xvYmFsXG52YXIgZ2V0R2xvYmFsID0gZnVuY3Rpb24gKCkge1xuXHQvLyB0aGUgb25seSByZWxpYWJsZSBtZWFucyB0byBnZXQgdGhlIGdsb2JhbCBvYmplY3QgaXNcblx0Ly8gYEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKClgXG5cdC8vIEhvd2V2ZXIsIHRoaXMgY2F1c2VzIENTUCB2aW9sYXRpb25zIGluIENocm9tZSBhcHBzLlxuXHRpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7IHJldHVybiBzZWxmOyB9XG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgeyByZXR1cm4gd2luZG93OyB9XG5cdGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykgeyByZXR1cm4gZ2xvYmFsOyB9XG5cdHRocm93IG5ldyBFcnJvcigndW5hYmxlIHRvIGxvY2F0ZSBnbG9iYWwgb2JqZWN0Jyk7XG59XG5cbnZhciBnbG9iYWwgPSBnZXRHbG9iYWwoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZ2xvYmFsLmZldGNoO1xuXG4vLyBOZWVkZWQgZm9yIFR5cGVTY3JpcHQgYW5kIFdlYnBhY2suXG5pZiAoZ2xvYmFsLmZldGNoKSB7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGdsb2JhbC5mZXRjaC5iaW5kKGdsb2JhbCk7XG59XG5cbmV4cG9ydHMuSGVhZGVycyA9IGdsb2JhbC5IZWFkZXJzO1xuZXhwb3J0cy5SZXF1ZXN0ID0gZ2xvYmFsLlJlcXVlc3Q7XG5leHBvcnRzLlJlc3BvbnNlID0gZ2xvYmFsLlJlc3BvbnNlOyIsImV4cG9ydCBjbGFzcyBTdHVkZW50IHtcbiBcbiAgICBwcml2YXRlIF9pZDogbnVtYmVyO1xuICAgIHByaXZhdGUgX25hbWU6IHN0cmluZztcbiAgICBwcml2YXRlIF9zdXJuYW1lOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfYWJzZW50OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCBuYW1lOiBzdHJpbmcsIHN1cm5hbWU6IHN0cmluZywgYWJzZW50OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5faWQgPSBpZDtcbiAgICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuX3N1cm5hbWUgPSBzdXJuYW1lO1xuICAgICAgICB0aGlzLl9hYnNlbnQgPSBhYnNlbnQ7XG4gICAgfVxuIFxuICAgIHB1YmxpYyBnZXRJZCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldE5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFN1cm5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cm5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEFic2VudCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWJzZW50O1xuICAgIH1cbn0iLCJpbXBvcnQgeyBTdHVkZW50IH0gZnJvbSBcIi4uL2RvbWFpbi9zdHVkZW50XCI7XG5pbXBvcnQgZmV0Y2ggZnJvbSAnbm9kZS1mZXRjaCc7XG5cbnZhciBhcGlVcmw6IHN0cmluZyA9ICdodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL3YxL3N0dWRlbnRzJztcbnZhciByZWdOYW1lID0gL15bYS16QS1axJ/DvMWfxLHDtsOnxJ7DnMWexLDDlsOHIF17MywyMH0kLztcbnZhciByZWdTdXJuYW1lID0gL15bYS16QS1axJ/DvMWfxLHDtsOnxJ7DnMWexLDDlsOHIF17MiwyMH0kLztcblxuZXhwb3J0IGNsYXNzIFN0dWRlbnRTZXJ2aWNlIHtcbiAgICBwcml2YXRlIF9zdHVkZW50czogU3R1ZGVudFtdID0gW107XG5cbiAgICBwdWJsaWMgYXN5bmMgZ2V0U3R1ZGVudHMoKTogUHJvbWlzZTxTdHVkZW50W10+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhcGlVcmwsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciEgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgdGhpcy5fc3R1ZGVudHMgPSBbXTtcbiAgICAgICAgcmVzdWx0LmZvckVhY2goKHN0dWRlbnQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fc3R1ZGVudHMucHVzaChuZXcgU3R1ZGVudChzdHVkZW50LmlkLCBzdHVkZW50Lm5hbWUsIHN0dWRlbnQuc3VybmFtZSwgc3R1ZGVudC5hYnNlbnQpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHVkZW50cztcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZ2V0U3R1ZGVudChpZDogbnVtYmVyKTogUHJvbWlzZTxTdHVkZW50PiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXBpVXJsICsgJy8nICsgaWQsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc3QgZ2V0UmVzdWx0ID0gPFN0dWRlbnQ+SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXN1bHQpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTdHVkZW50KGdldFJlc3VsdC5nZXRJZCgpLCBnZXRSZXN1bHQuZ2V0TmFtZSgpLCBnZXRSZXN1bHQuZ2V0U3VybmFtZSgpLCBnZXRSZXN1bHQuZ2V0QWJzZW50KCkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBhZGRTdHVkZW50KG5hbWU6IHN0cmluZywgc3VybmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGVTdHVkZW50KG5hbWUsIHN1cm5hbWUpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwaVVybCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICBzdXJuYW1lOiBzdXJuYW1lXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciEgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIHVwZGF0ZVN0dWRlbnQoc3R1ZGVudDogU3R1ZGVudCwgbmFtZTogc3RyaW5nLCBzdXJuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZVN0dWRlbnQobmFtZSwgc3VybmFtZSk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXBpVXJsICsgJy8nICsgc3R1ZGVudC5nZXRJZCgpLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgc3VybmFtZTogc3VybmFtZVxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IhIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgdmFsaWRhdGVTdHVkZW50KG5hbWU6IHN0cmluZywgc3VybmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICghKHRoaXMuaXNWYWxpZChuYW1lLCBzdXJuYW1lKSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5hbWUgb3Igc3VybmFtZSBpcyBub3QgdmFsaWRcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgaXNWYWxpZChuYW1lOiBzdHJpbmcsIHN1cm5hbWU6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICByZXR1cm4gcmVnTmFtZS50ZXN0KG5hbWUpICYmIHJlZ1N1cm5hbWUudGVzdChzdXJuYW1lKTtcbiAgICB9XG5cblxuICAgIHB1YmxpYyBhc3luYyBkZWxldGVTdHVkZW50KGlkOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhcGlVcmwgKyAnLycgKyBpZCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IhIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgU3R1ZGVudCB9IGZyb20gXCIuLi9kb21haW4vc3R1ZGVudFwiO1xuaW1wb3J0IHsgU3R1ZGVudFNlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZS9zdHVkZW50X3NlcnZpY2VcIjtcblxuY29uc3Qgc3R1ZGVudFNlcnZpY2UgPSBuZXcgU3R1ZGVudFNlcnZpY2UoKTtcbmNvbnN0IGFkZFN0dWRlbnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZFN0dWRlbnRCdXR0b25cIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG5jb25zdCB1cGRhdGVTdHVkZW50QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1cGRhdGVTdHVkZW50QnV0dG9uXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYW1lSW5wdXRcIikgYXMgSFRNTElucHV0RWxlbWVudDtcbmNvbnN0IHN1cm5hbWVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VybmFtZUlucHV0XCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG5jb25zdCBzdHVkZW50VGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0dWRlbnRMaXN0Qm9keVwiKSBhcyBIVE1MVGFibGVFbGVtZW50O1xuXG5sZXQgc2VsZWN0ZWRTdHVkZW50OiBTdHVkZW50O1xuXG5leHBvcnQgZnVuY3Rpb24gc3R1ZGVudENydWQoKSB7XG4gICAgc2hvd1N0dWRlbnRMaXN0KCk7XG5cbiAgICBhZGRTdHVkZW50QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRWtsZW1lXCIpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgc3R1ZGVudFNlcnZpY2UuYWRkU3R1ZGVudChuYW1lSW5wdXQudmFsdWUsIHN1cm5hbWVJbnB1dC52YWx1ZSk7XG4gICAgICAgICAgICBzaG93U3R1ZGVudExpc3QoKTtcbiAgICAgICAgICAgIGFsZXJ0KG5hbWVJbnB1dC52YWx1ZSArIFwiIFwiICsgc3VybmFtZUlucHV0LnZhbHVlICsgXCJcXG7DlsSfcmVuY2kgRWtsZW5kaVwiKTtcbiAgICAgICAgICAgIG5hbWVJbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICBzdXJuYW1lSW5wdXQudmFsdWUgPSBcIlwiO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiVGFsZWJlIEFESSB2ZSBTT1lBREkgdXlndW4gZm9ybWF0dGEgZGXEn2lsXFxuMy0yMCBrYXJha3RlciBhcmFzxLEgc2FkZWNlIGhhcmYgZ2lyaW5pelxcbsOWcm5lazogQmVrdGHFnyBJxZ/EsWtcIik7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHVwZGF0ZVN0dWRlbnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJHw7xuY2VsbGVtZVwiKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHN0dWRlbnRTZXJ2aWNlLnVwZGF0ZVN0dWRlbnQoc2VsZWN0ZWRTdHVkZW50LCBuYW1lSW5wdXQudmFsdWUsIHN1cm5hbWVJbnB1dC52YWx1ZSk7XG4gICAgICAgICAgICBuYW1lSW5wdXQudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgc3VybmFtZUlucHV0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgIGFkZFN0dWRlbnRCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgIHVwZGF0ZVN0dWRlbnRCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgc2hvd1N0dWRlbnRMaXN0KCk7XG4gICAgICAgICAgICBhbGVydChcIsOWxJ9yZW5jaSBHw7xuY2VsbGVuZGlcIik7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgYWxlcnQoXCJUYWxlYmUgQURJIHZlIFNPWUFESSB1eWd1biBmb3JtYXR0YSBkZcSfaWxcXG4zLTIwIGthcmFrdGVyIGFyYXPEsSBzYWRlY2UgaGFyZiBnaXJpbml6XFxuw5ZybmVrOiBCZWt0YcWfIEnFn8Sxa1wiKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBzaG93U3R1ZGVudExpc3QoKSB7XG4gICAgc3R1ZGVudFRhYmxlLmlubmVySFRNTCA9IFwiXCI7XG4gICAgKGF3YWl0IHN0dWRlbnRTZXJ2aWNlLmdldFN0dWRlbnRzKCkpLmZvckVhY2goKHN0dWRlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgICAgIGNvbnN0IHRkSWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgIGNvbnN0IHRkTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICAgICAgY29uc3QgdGRTdXJuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICBjb25zdCB0ZEFic2VudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICAgICAgY29uc3QgdGREZWxldGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgIGNvbnN0IHRkVXBkYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICBjb25zdCB0ZEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgY29uc3QgdXBkYXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcblxuICAgICAgICB0ZElkLmlubmVySFRNTCA9IHN0dWRlbnQuZ2V0SWQoKS50b1N0cmluZygpO1xuICAgICAgICB0ZE5hbWUuaW5uZXJUZXh0ID0gc3R1ZGVudC5nZXROYW1lKCk7XG4gICAgICAgIHRkU3VybmFtZS5pbm5lclRleHQgPSBzdHVkZW50LmdldFN1cm5hbWUoKTtcbiAgICAgICAgdGRBYnNlbnQuaW5uZXJUZXh0ID0gc3R1ZGVudC5nZXRBYnNlbnQoKS50b1N0cmluZygpO1xuICAgICAgICBkZWxldGVCdXR0b24uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJidG4gYnRuLWRhbmdlclwiKTtcbiAgICAgICAgZGVsZXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZGVsZXRlQnV0dG9uXCIpO1xuICAgICAgICBkZWxldGVCdXR0b24uc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLCBzdHVkZW50LmdldElkKCkudG9TdHJpbmcoKSk7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJmYXMgZmEtdHJhc2gtYWx0XCI+PC9pPic7XG4gICAgICAgIHVwZGF0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImJ0biBidG4tcHJpbWFyeVwiKTtcbiAgICAgICAgdXBkYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImlkXCIsIFwidXBkYXRlQnV0dG9uXCIpO1xuICAgICAgICB1cGRhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLCBzdHVkZW50LmdldElkKCkudG9TdHJpbmcoKSk7XG4gICAgICAgIHVwZGF0ZUJ1dHRvbi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1lZGl0XCI+PC9pPic7XG4gICAgICAgIHRkRGVsZXRlLmFwcGVuZENoaWxkKGRlbGV0ZUJ1dHRvbik7XG4gICAgICAgIHRkVXBkYXRlLmFwcGVuZENoaWxkKHVwZGF0ZUJ1dHRvbik7XG4gICAgICAgIHRyLmFwcGVuZENoaWxkKHRkSWQpO1xuICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZE5hbWUpO1xuICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZFN1cm5hbWUpO1xuICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZEFic2VudCk7XG4gICAgICAgIHRkQnV0dG9uLmFwcGVuZENoaWxkKHRkRGVsZXRlKTtcbiAgICAgICAgdGRCdXR0b24uYXBwZW5kQ2hpbGQodGRVcGRhdGUpO1xuICAgICAgICB0ZEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYXJvdW5kXCIpO1xuICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZEJ1dHRvbik7XG4gICAgICAgIHN0dWRlbnRUYWJsZS5hcHBlbmRDaGlsZCh0cik7XG5cbiAgICAgICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoZSkgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJTaWxtZVwiKTtcbiAgICAgICAgICAgIGF3YWl0IHN0dWRlbnRTZXJ2aWNlLmRlbGV0ZVN0dWRlbnQoTnVtYmVyKGRlbGV0ZUJ1dHRvbi5kYXRhc2V0LmlkKSk7XG4gICAgICAgICAgICBzaG93U3R1ZGVudExpc3QoKTtcbiAgICAgICAgICAgIGFsZXJ0KFwiw5bEn3JlbmNpIFNpbGluZGlcIik7XG4gICAgICAgIH0pO1xuICAgICAgICB1cGRhdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBzZWxlY3RlZFN0dWRlbnQgPSBzdHVkZW50O1xuICAgICAgICAgICAgbmFtZUlucHV0LnZhbHVlID0gc2VsZWN0ZWRTdHVkZW50LmdldE5hbWUoKTtcbiAgICAgICAgICAgIHN1cm5hbWVJbnB1dC52YWx1ZSA9IHNlbGVjdGVkU3R1ZGVudC5nZXRTdXJuYW1lKCk7XG4gICAgICAgICAgICB1cGRhdGVCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgZGVsZXRlQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIHVwZGF0ZVN0dWRlbnRCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgIGFkZFN0dWRlbnRCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgdXBkYXRlU3R1ZGVudEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIsIHNlbGVjdGVkU3R1ZGVudC5nZXRJZCgpLnRvU3RyaW5nKCkpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiaW1wb3J0IHsgc3R1ZGVudENydWQgfSBmcm9tIFwiLi92aWV3L3N0dWRlbnQtY3J1ZFwiO1xuaW1wb3J0IHsgYXR0ZW5kYW5jZUNydWQgfSBmcm9tIFwiLi92aWV3L2F0dGVuZGFuY2UtY3J1ZFwiO1xuaW1wb3J0ICogYXMgbGlzdEJ5QXR0ZW5kYW5jZSBmcm9tIFwiLi92aWV3L2xpc3QtYnktYXR0ZW5kYW5jZVwiO1xuaW1wb3J0ICogYXMgbGlzdEJ5U3R1ZGVudCBmcm9tIFwiLi92aWV3L2xpc3QtYnktc3R1ZGVudFwiO1xuaW1wb3J0IHsgZGVuIH0gZnJvbSBcIi4vdmlldy9kZW5cIjtcblxuLy8gUGF0aDogc3JjL3ZpZXcvc3R1ZGVudC1jcnVkLnRzXG5zdHVkZW50Q3J1ZCgpO1xuXG4vLyBQYXRoOiBzcmMvdmlldy9saXN0LWJ5LXN0dWRlbnQudHNcbi8vYXR0ZW5kYW5jZUNydWQoKTtcblxuXG4vLyBQYXRoOiBzcmMvdmlldy9saXN0LWJ5LWF0dGVuZGFuY2UudHNcbi8vIGxpc3RCeUF0dGVuZGFuY2Uuc2hvd0RhdGEoKTtcblxuLy8gUGF0aDogc3JjL3ZpZXcvYXR0ZW5kYW5jZS1jcnVkLnRzXG4vLyBsaXN0QnlTdHVkZW50LnNob3dEYXRhKCk7Il0sIm5hbWVzIjpbImdsb2JhbCIsInNlbGYiLCJ3aW5kb3ciLCJFcnJvciIsImdldEdsb2JhbCIsIm1vZHVsZSIsImV4cG9ydHMiLCJmZXRjaCIsImJpbmQiLCJIZWFkZXJzIiwiUmVxdWVzdCIsIlJlc3BvbnNlIiwiY29uc3RydWN0b3IiLCJpZCIsIm5hbWUiLCJzdXJuYW1lIiwiYWJzZW50IiwidGhpcyIsIl9pZCIsIl9uYW1lIiwiX3N1cm5hbWUiLCJfYWJzZW50IiwiZ2V0SWQiLCJnZXROYW1lIiwiZ2V0U3VybmFtZSIsImdldEFic2VudCIsImFwaVVybCIsInJlZ05hbWUiLCJyZWdTdXJuYW1lIiwiX3N0dWRlbnRzIiwiYXN5bmMiLCJyZXNwb25zZSIsIm1ldGhvZCIsImhlYWRlcnMiLCJBY2NlcHQiLCJvayIsInN0YXR1cyIsInJlc3VsdCIsImpzb24iLCJmb3JFYWNoIiwic3R1ZGVudCIsInB1c2giLCJTdHVkZW50IiwiZ2V0UmVzdWx0IiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwidmFsaWRhdGVTdHVkZW50IiwiYm9keSIsImlzVmFsaWQiLCJ0ZXN0Iiwic3R1ZGVudFNlcnZpY2UiLCJTdHVkZW50U2VydmljZSIsImFkZFN0dWRlbnRCdXR0b24iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwidXBkYXRlU3R1ZGVudEJ1dHRvbiIsIm5hbWVJbnB1dCIsInN1cm5hbWVJbnB1dCIsInN0dWRlbnRUYWJsZSIsInNlbGVjdGVkU3R1ZGVudCIsInNob3dTdHVkZW50TGlzdCIsImlubmVySFRNTCIsImdldFN0dWRlbnRzIiwidHIiLCJjcmVhdGVFbGVtZW50IiwidGRJZCIsInRkTmFtZSIsInRkU3VybmFtZSIsInRkQWJzZW50IiwidGREZWxldGUiLCJ0ZFVwZGF0ZSIsInRkQnV0dG9uIiwiZGVsZXRlQnV0dG9uIiwidXBkYXRlQnV0dG9uIiwidG9TdHJpbmciLCJpbm5lclRleHQiLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJjb25zb2xlIiwibG9nIiwiZGVsZXRlU3R1ZGVudCIsIk51bWJlciIsImRhdGFzZXQiLCJhbGVydCIsInZhbHVlIiwic3R5bGUiLCJkaXNwbGF5IiwiYWRkU3R1ZGVudCIsInVwZGF0ZVN0dWRlbnQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCIsInN0dWRlbnRDcnVkIl0sInNvdXJjZVJvb3QiOiIifQ==
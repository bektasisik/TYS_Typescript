(()=>{"use strict";var e={300:(e,t)=>{var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n)return n;throw new Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response},674:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Attendance=void 0,t.Attendance=class{constructor(e,t,n){this._id=e,this._prayerTime=t,this._date=n}getId(){return this._id}getPrayerTime(){return this._prayerTime}getToday(){return this._date}}},406:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Student=void 0,t.Student=class{constructor(e,t,n,a){this._id=e,this._name=t,this._surname=n,this._absent=a}getId(){return this._id}getName(){return this._name}getSurname(){return this._surname}getAbsent(){return this._absent}}},669:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StudentAttendance=void 0,t.StudentAttendance=class{constructor(e,t,n){this._student=e,this._attendance=t,this._isAbsence=n}getAttendance(){return this._attendance}getStudent(){return this._student}getIsAbsence(){return this._isAbsence}getIsAbsenceToString(){return this._isAbsence?"Var":"Yok"}}},458:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StudentAttendanceDTO=void 0,t.StudentAttendanceDTO=class{constructor(e,t){this.studentId=e,this.isAbsence=t}getStudentId(){return this.studentId}getIsAbsence(){return this.isAbsence}}},711:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AttendanceService=void 0;const a=n(674);var d="http://localhost:8080/api/v1/attendances";t.AttendanceService=class{constructor(){this._attendances=[]}async getAttendances(){const e=await fetch(d,{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`Error! status: ${e.status}`);const t=await e.json();return this._attendances=[],t.forEach((e=>{this._attendances.push(new a.Attendance(e.id,e.prayerTime,e.date))})),this._attendances}async getAttendance(e){const t=await fetch(d+"/"+e,{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Error! status: ${t.status}`);const n=await t.json();return new a.Attendance(n.id,n.prayerTime,n.date)}async isEmpty(e){return""!==e&&null!=e}async takeAttendance(e,t){if(!this.isEmpty(e))throw new Error("Prayer time cannot be empty!");const n=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prayerTime:e,studentAttendanceDto:t})});if(!n.ok)throw new Error(n.statusText)}async updateAttendance(e,t,n){const a=await fetch(d+"/"+e,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,prayerTime:t,studentAttendanceDto:n})});if(!a.ok)throw new Error(a.statusText)}async deleteAttendance(e){const t=await fetch(d+"/"+e,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})});if(!t.ok)throw new Error(t.statusText)}}},590:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StudentAttendanceService=void 0;const a=n(674),d=n(406),s=n(669);var r="http://localhost:8080/api/v1/student-attendances";t.StudentAttendanceService=class{constructor(){this._studentAttendances=[]}async getStudentAttendances(){const e=await fetch(r,{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`Error! status: ${e.status}`);const t=await e.json();return this._studentAttendances=[],this._studentAttendances=t.map((e=>new s.StudentAttendance(new d.Student(e.student.id,e.student.name,e.student.surname,e.student.absent),new a.Attendance(e.attendance.id,e.attendance.prayerTime,e.attendance.date),e.isAbsence))),this._studentAttendances}async getStudentsByAttendanceId(e){const t=await fetch(r+"/?"+new URLSearchParams({attendanceId:e.toString()}),{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Error! status: ${t.status}`);return(await t.json()).map((e=>new s.StudentAttendance(new d.Student(e.student.id,e.student.name,e.student.surname,e.student.absent),new a.Attendance(e.attendance.id,e.attendance.prayerTime,e.attendance.date),e.isAbsence)))}async getAttendancesByStudentId(e){const t=await fetch(r+"/?"+new URLSearchParams({studentId:e.toString()}),{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Error! status: ${t.status}`);return(await t.json()).map((e=>new s.StudentAttendance(new d.Student(e.student.id,e.student.name,e.student.surname,e.student.absent),new a.Attendance(e.attendance.id,e.attendance.prayerTime,e.attendance.date),e.isAbsence)))}}},287:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StudentService=void 0;const d=n(406),s=a(n(300));var r="http://localhost:8080/api/v1/students",i=/^[a-zA-ZğüşıöçĞÜŞİÖÇ ]{3,20}$/,c=/^[a-zA-ZğüşıöçĞÜŞİÖÇ ]{2,20}$/;t.StudentService=class{constructor(){this._students=[]}async getStudents(){const e=await(0,s.default)(r,{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`Error! status: ${e.status}`);const t=await e.json();return this._students=[],t.forEach((e=>{this._students.push(new d.Student(e.id,e.name,e.surname,e.absent))})),this._students}async getStudent(e){const t=await(0,s.default)(r+"/"+e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!t.ok)throw new Error(`Error! status: ${t.status}`);const n=await t.json(),a=JSON.parse(JSON.stringify(n));return new d.Student(a.getId(),a.getName(),a.getSurname(),a.getAbsent())}async addStudent(e,t){this.validateStudent(e,t);const n=await(0,s.default)(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,surname:t})});if(!n.ok)throw new Error(`Error! status: ${n.status}`)}async updateStudent(e,t,n){this.validateStudent(t,n);const a=await(0,s.default)(r+"/"+e.getId(),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:t,surname:n})});if(!a.ok)throw new Error(`Error! status: ${a.status}`)}async validateStudent(e,t){if(!this.isValid(e,t))throw new Error("Name or surname is not valid")}async isValid(e,t){return i.test(e)&&c.test(t)}async deleteStudent(e){const t=await(0,s.default)(r+"/"+e,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!t.ok)throw new Error(`Error! status: ${t.status}`)}}}},t={};function n(a){var d=t[a];if(void 0!==d)return d.exports;var s=t[a]={exports:{}};return e[a].call(s.exports,s,s.exports,n),s.exports}(()=>{const e=n(287),t=n(711),a=n(590),d=n(458),s=new e.StudentService,r=new t.AttendanceService,i=new a.StudentAttendanceService,c=document.getElementById("addStudentButton"),o=document.getElementById("updateStudentButton"),l=document.getElementById("takeAttendanceButton"),u=document.getElementById("updateAttendanceButton"),m=document.getElementById("nameInput"),p=document.getElementById("surnameInput"),h=document.getElementById("selectPrayerTime"),y=document.getElementsByName("selectAbsence"),g=document.getElementById("selectListWithAttendanceId"),E=document.getElementById("mySelectStudentId"),A=document.getElementById("studentListBody"),S=document.getElementById("takeAttendanceBody"),f=document.getElementById("listAttendanceBody"),b=document.getElementById("tbodyListForAttendance"),w=document.getElementById("tbodyListWithStudentId");let v,T;async function k(){A.innerHTML="",(await s.getStudents()).forEach((e=>{const t=document.createElement("tr"),n=document.createElement("td"),a=document.createElement("td"),d=document.createElement("td"),r=document.createElement("td"),i=document.createElement("td"),l=document.createElement("td"),u=document.createElement("td"),h=document.createElement("button"),y=document.createElement("button");n.innerHTML=e.getId().toString(),a.innerText=e.getName(),d.innerText=e.getSurname(),r.innerText=e.getAbsent().toString(),h.setAttribute("class","btn btn-danger"),h.setAttribute("id","deleteButton"),h.setAttribute("data-id",e.getId().toString()),h.innerHTML='<i class="fas fa-trash-alt"></i>',y.setAttribute("class","btn btn-primary"),y.setAttribute("id","updateButton"),y.setAttribute("data-id",e.getId().toString()),y.innerHTML='<i class="fa-solid fa-edit"></i>',i.appendChild(h),l.appendChild(y),t.appendChild(n),t.appendChild(a),t.appendChild(d),t.appendChild(r),u.appendChild(i),u.appendChild(l),u.setAttribute("class","d-flex justify-content-around"),t.appendChild(u),A.appendChild(t),h.addEventListener("click",(async e=>{e.preventDefault(),console.log("Silme"),await s.deleteStudent(Number(h.dataset.id)),k(),I(),j(),B(0),alert("Öğrenci Silindi")})),y.addEventListener("click",(t=>{t.preventDefault(),v=e,m.value=v.getName(),p.value=v.getSurname(),y.style.display="none",h.style.display="none",o.style.display="block",c.style.display="none",o.setAttribute("data-id",v.getId().toString())}))}))}async function I(){S.innerHTML="",(await s.getStudents()).forEach((e=>{const t=document.createElement("tr"),n=document.createElement("td"),a=document.createElement("td"),d=document.createElement("td"),s=document.createElement("td"),r=document.createElement("label"),i=document.createElement("input"),c=document.createElement("span");n.innerHTML=e.getId().toString(),a.innerText=e.getName(),d.innerText=e.getSurname(),r.setAttribute("class","switch"),i.setAttribute("type","checkbox"),i.setAttribute("id","checkbox"),i.checked=!0,i.setAttribute("name","selectAbsence"),i.setAttribute("data-id",e.getId().toString()),c.setAttribute("class","slider round"),r.appendChild(i),r.appendChild(c),s.appendChild(r),t.appendChild(n),t.appendChild(a),t.appendChild(d),t.appendChild(s),S.appendChild(t)}))}async function _(){f.innerHTML="",(await r.getAttendances()).forEach((e=>{const t=document.createElement("tr"),n=document.createElement("td"),a=document.createElement("td"),d=document.createElement("td"),s=document.createElement("td"),i=document.createElement("td"),c=document.createElement("td"),o=document.createElement("button"),m=document.createElement("button");n.innerHTML=e.getId().toString(),a.innerText=e.getToday(),d.innerText=e.getPrayerTime(),o.setAttribute("class","btn btn-danger"),o.setAttribute("id","deleteButton"),o.setAttribute("data-id",e.getId().toString()),o.innerHTML='<i class="fas fa-trash-alt"></i>',m.setAttribute("class","btn btn-primary"),m.setAttribute("id","updateButton"),m.setAttribute("data-id",e.getId().toString()),m.innerHTML='<i class="fa-solid fa-edit"></i>',s.appendChild(o),i.appendChild(m),t.appendChild(n),t.appendChild(a),t.appendChild(d),c.appendChild(s),c.appendChild(i),c.setAttribute("class","d-flex justify-content-around"),t.appendChild(c),f.appendChild(t),o.addEventListener("click",(async e=>{e.preventDefault(),console.log("Silme"),await r.deleteAttendance(Number(o.dataset.id)),k(),I(),_(),C(),j(),L(0),B(0),alert("Yoklama Silindi")})),m.addEventListener("click",(t=>{t.preventDefault(),T=e.getId(),h.value=e.getPrayerTime(),m.style.display="none",o.style.display="none",u.style.display="block",l.style.display="none",u.setAttribute("data-id",T.toString())}))}))}async function C(){g.innerHTML="";const e=document.createElement("option");e.setAttribute("value","0"),e.setAttribute("hidden","true"),e.innerText="Yoklama Seçiniz",g.appendChild(e),(await r.getAttendances()).forEach((e=>{const t=document.createElement("option");t.setAttribute("value",e.getId().toString()),t.innerText=e.getToday(),g.appendChild(t)}))}async function L(e){console.log("Yokalmaya göre Talebe Listeleme"),b.innerHTML="";const t=await i.getStudentsByAttendanceId(e);console.log(t),t.forEach((e=>{const t=document.createElement("tr"),n=document.createElement("td"),a=document.createElement("td"),d=document.createElement("td"),s=document.createElement("td");n.innerHTML=e.getStudent().getId().toString(),a.innerHTML=e.getStudent().getName(),d.innerHTML=e.getStudent().getSurname(),s.innerHTML=e.getIsAbsenceToString(),t.appendChild(n),t.appendChild(a),t.appendChild(d),t.appendChild(s),b.appendChild(t)}))}async function j(){E.innerHTML="";const e=await s.getStudents(),t=document.createElement("option");t.setAttribute("value","0"),t.setAttribute("hidden","true"),t.innerText="Öğrenci Seçiniz",E.appendChild(t),e.forEach((e=>{const t=document.createElement("option");t.setAttribute("value",e.getId().toString()),t.innerText=e.getName()+" "+e.getSurname(),E.appendChild(t)}))}async function B(e){console.log("Talebeye göre Yoklama Listeleme"),w.innerHTML="";const t=await i.getAttendancesByStudentId(e);console.log(t),t.forEach((e=>{const t=document.createElement("tr"),n=document.createElement("td"),a=document.createElement("td"),d=document.createElement("td");n.innerHTML=e.getAttendance().getToday(),a.innerHTML=e.getAttendance().getPrayerTime(),d.innerHTML=e.getIsAbsenceToString(),t.appendChild(n),t.appendChild(a),t.appendChild(d),w.appendChild(t)}))}k(),I(),_(),C(),j(),L(0),B(0),c.addEventListener("click",(async e=>{e.preventDefault(),console.log("Ekleme");try{await s.addStudent(m.value,p.value),k(),I(),j(),B(0),alert(m.value+" "+p.value+"\nÖğrenci Eklendi"),m.value="",p.value=""}catch(e){alert("Talebe ADI ve SOYADI uygun formatta değil\n3-20 karakter arası sadece harf giriniz\nÖrnek: Bektaş Işık")}})),o.addEventListener("click",(async e=>{e.preventDefault(),console.log("Güncelleme");try{await s.updateStudent(v,m.value,p.value),m.value="",p.value="",c.style.display="block",o.style.display="none",k(),I(),j(),B(0),alert("Öğrenci Güncellendi")}catch(e){alert("Talebe ADI ve SOYADI uygun formatta değil\n3-20 karakter arası sadece harf giriniz\nÖrnek: Bektaş Işık")}})),l.addEventListener("click",(async e=>{e.preventDefault(),console.log("Yoklama alma");let t=new Array;(await s.getStudents()).forEach(((e,n)=>{t.push(new d.StudentAttendanceDTO(e.getId(),y[n].checked))}));try{await r.takeAttendance(h.value,t).then((()=>{k(),I(),_(),C(),j(),L(0),B(0),alert(h.value+" Yoklaması Alındı")}))}catch(e){alert("Lütfen Vakti Seçiniz")}})),u.addEventListener("click",(async e=>{e.preventDefault(),console.log("Yoklama güncelleme");let t=new Array;(await s.getStudents()).forEach(((e,n)=>{t.push(new d.StudentAttendanceDTO(e.getId(),y[n].checked))})),await r.updateAttendance(T,h.value,t),k(),I(),_(),C(),j(),L(0),B(0),l.style.display="block",u.style.display="none",alert(h.value+"Yoklaması Güncellendi")})),g.addEventListener("click",(e=>{e.preventDefault(),"0"!==g.value?(console.log("Yoklama Seçildi"),L(Number(g.value)),alert("Seçilen Yoklamanın Öğrencileri Listelendi")):alert("Lütfen Yoklama Mevcut ise Seçiniz \nYoklama Yoksa Yoklama Alınız")})),E.addEventListener("click",(e=>{e.preventDefault(),"0"!==E.value?(console.log("Talebe Seçildi"),B(Number(E.value)),alert("Seçilen Öğrencinin Yoklamaları Listelendi")):alert("Lütfen Yoklama Mevcut ise Seçiniz \nYoklama Yoksa Yoklama Alınız")}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWlCLFNBQVVDLElBQ3pDQSxFQUFFQyxpQkFDZ0MsTUFBNUIzQixFQUFrQnFDLE9BQ3BCVCxRQUFRQyxJQUFJLGtCQUNaTSxFQUE0QkosT0FBTy9CLEVBQWtCcUMsUUFDckRELE1BQU0sOENBR05BLE1BQU0sbUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90eXMvLi9ub2RlX21vZHVsZXMvbm9kZS1mZXRjaC9icm93c2VyLmpzIiwid2VicGFjazovL3R5cy8uL3NyYy9kb21haW4vYXR0ZW5kYW5jZS50cyIsIndlYnBhY2s6Ly90eXMvLi9zcmMvZG9tYWluL3N0dWRlbnQudHMiLCJ3ZWJwYWNrOi8vdHlzLy4vc3JjL2RvbWFpbi9zdHVkZW50X2F0dGVuZGFuY2UudHMiLCJ3ZWJwYWNrOi8vdHlzLy4vc3JjL2R0by9zdHVkZW50X2F0dGVuZGFuY2VfZHRvLnRzIiwid2VicGFjazovL3R5cy8uL3NyYy9zZXJ2aWNlL2F0dGVuZGFuY2Vfc2VydmljZS50cyIsIndlYnBhY2s6Ly90eXMvLi9zcmMvc2VydmljZS9zdHVkZW50X2F0dGVuZGFuY2Vfc2VydmljZS50cyIsIndlYnBhY2s6Ly90eXMvLi9zcmMvc2VydmljZS9zdHVkZW50X3NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vdHlzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3R5cy8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLy8gcmVmOiBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1nbG9iYWxcbnZhciBnZXRHbG9iYWwgPSBmdW5jdGlvbiAoKSB7XG5cdC8vIHRoZSBvbmx5IHJlbGlhYmxlIG1lYW5zIHRvIGdldCB0aGUgZ2xvYmFsIG9iamVjdCBpc1xuXHQvLyBgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKWBcblx0Ly8gSG93ZXZlciwgdGhpcyBjYXVzZXMgQ1NQIHZpb2xhdGlvbnMgaW4gQ2hyb21lIGFwcHMuXG5cdGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHsgcmV0dXJuIHNlbGY7IH1cblx0aWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7IHJldHVybiB3aW5kb3c7IH1cblx0aWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7IHJldHVybiBnbG9iYWw7IH1cblx0dGhyb3cgbmV3IEVycm9yKCd1bmFibGUgdG8gbG9jYXRlIGdsb2JhbCBvYmplY3QnKTtcbn1cblxudmFyIGdsb2JhbCA9IGdldEdsb2JhbCgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBnbG9iYWwuZmV0Y2g7XG5cbi8vIE5lZWRlZCBmb3IgVHlwZVNjcmlwdCBhbmQgV2VicGFjay5cbmlmIChnbG9iYWwuZmV0Y2gpIHtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZ2xvYmFsLmZldGNoLmJpbmQoZ2xvYmFsKTtcbn1cblxuZXhwb3J0cy5IZWFkZXJzID0gZ2xvYmFsLkhlYWRlcnM7XG5leHBvcnRzLlJlcXVlc3QgPSBnbG9iYWwuUmVxdWVzdDtcbmV4cG9ydHMuUmVzcG9uc2UgPSBnbG9iYWwuUmVzcG9uc2U7IiwiZXhwb3J0IGNsYXNzIEF0dGVuZGFuY2Uge1xuICAgIHByaXZhdGUgX2lkOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfcHJheWVyVGltZTogc3RyaW5nO1xuICAgIHByaXZhdGUgX2RhdGU6IHN0cmluZztcbiAgICBcbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCBwcmF5ZXJUaW1lOiBzdHJpbmcsIGRhdGU6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9pZCA9IGlkO1xuICAgICAgICB0aGlzLl9wcmF5ZXJUaW1lID0gcHJheWVyVGltZTtcbiAgICAgICAgdGhpcy5fZGF0ZSA9IGRhdGU7XG4gICAgfVxuICAgIHB1YmxpYyBnZXRJZCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgfVxuICAgIHB1YmxpYyBnZXRQcmF5ZXJUaW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcmF5ZXJUaW1lO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0VG9kYXkoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGU7XG4gICAgfVxufSIsImV4cG9ydCBjbGFzcyBTdHVkZW50IHtcbiBcbiAgICBwcml2YXRlIF9pZDogbnVtYmVyO1xuICAgIHByaXZhdGUgX25hbWU6IHN0cmluZztcbiAgICBwcml2YXRlIF9zdXJuYW1lOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfYWJzZW50OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCBuYW1lOiBzdHJpbmcsIHN1cm5hbWU6IHN0cmluZywgYWJzZW50OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5faWQgPSBpZDtcbiAgICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuX3N1cm5hbWUgPSBzdXJuYW1lO1xuICAgICAgICB0aGlzLl9hYnNlbnQgPSBhYnNlbnQ7XG4gICAgfVxuIFxuICAgIHB1YmxpYyBnZXRJZCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldE5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFN1cm5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cm5hbWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEFic2VudCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWJzZW50O1xuICAgIH1cbn0iLCJpbXBvcnQgeyBTdHVkZW50IH0gZnJvbSBcIi4vc3R1ZGVudFwiO1xuaW1wb3J0IHsgQXR0ZW5kYW5jZSB9IGZyb20gXCIuL2F0dGVuZGFuY2VcIjtcblxuZXhwb3J0IGNsYXNzIFN0dWRlbnRBdHRlbmRhbmNlIHtcbiAgICBwcml2YXRlIF9zdHVkZW50OiBTdHVkZW50O1xuICAgIHByaXZhdGUgX2F0dGVuZGFuY2U6IEF0dGVuZGFuY2U7XG4gICAgcHJpdmF0ZSBfaXNBYnNlbmNlOiBCb29sZWFuO1xuXG4gICAgY29uc3RydWN0b3Ioc3R1ZGVudDogU3R1ZGVudCwgYXR0ZW5kYW5jZTogQXR0ZW5kYW5jZSwgaXNBYnNlbmNlOiBCb29sZWFuKSB7XG4gICAgICAgIHRoaXMuX3N0dWRlbnQgPSBzdHVkZW50O1xuICAgICAgICB0aGlzLl9hdHRlbmRhbmNlID0gYXR0ZW5kYW5jZTtcbiAgICAgICAgdGhpcy5faXNBYnNlbmNlID0gaXNBYnNlbmNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRBdHRlbmRhbmNlKCk6QXR0ZW5kYW5jZXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F0dGVuZGFuY2U7XG4gICAgfVxuICAgIHB1YmxpYyBnZXRTdHVkZW50KCk6U3R1ZGVudHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0dWRlbnQ7XG4gICAgfVxuICAgIHB1YmxpYyBnZXRJc0Fic2VuY2UoKTpCb29sZWFue1xuICAgICAgICByZXR1cm4gdGhpcy5faXNBYnNlbmNlO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0SXNBYnNlbmNlVG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzQWJzZW5jZSA/IFwiVmFyXCIgOiBcIllva1wiO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgU3R1ZGVudEF0dGVuZGFuY2VEVE8ge1xuICAgIHN0dWRlbnRJZDogbnVtYmVyO1xuICAgIGlzQWJzZW5jZTpib29sZWFuO1xuXG4gICAgZ2V0U3R1ZGVudElkKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0dWRlbnRJZDtcbiAgICB9XG4gICAgZ2V0SXNBYnNlbmNlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0Fic2VuY2U7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0cnVjdG9yKHN0dWRlbnRJZDogbnVtYmVyLCBpc0Fic2VuY2U6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5zdHVkZW50SWQgPSBzdHVkZW50SWQ7XG4gICAgICAgIHRoaXMuaXNBYnNlbmNlID0gaXNBYnNlbmNlO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBBdHRlbmRhbmNlIH0gZnJvbSBcIi4uL2RvbWFpbi9hdHRlbmRhbmNlXCI7XG5pbXBvcnQgeyBTdHVkZW50QXR0ZW5kYW5jZURUTyB9IGZyb20gXCIuLi9kdG8vc3R1ZGVudF9hdHRlbmRhbmNlX2R0b1wiO1xuXG52YXIgYXBpVXJsOiBzdHJpbmcgPSAnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaS92MS9hdHRlbmRhbmNlcyc7XG5cbmV4cG9ydCBjbGFzcyBBdHRlbmRhbmNlU2VydmljZSB7XG4gICAgcHJpdmF0ZSBfYXR0ZW5kYW5jZXM6IEFycmF5PEF0dGVuZGFuY2U+ID0gW107XG5cblxuICAgIHB1YmxpYyBhc3luYyBnZXRBdHRlbmRhbmNlcygpOiBQcm9taXNlPEF0dGVuZGFuY2VbXT4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwaVVybCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICB0aGlzLl9hdHRlbmRhbmNlcyA9IFtdO1xuICAgICAgICByZXN1bHQuZm9yRWFjaCgob2JqZWN0OiBhbnkpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2F0dGVuZGFuY2VzLnB1c2gobmV3IEF0dGVuZGFuY2Uob2JqZWN0LmlkLCBvYmplY3QucHJheWVyVGltZSwgb2JqZWN0LmRhdGUpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9hdHRlbmRhbmNlcztcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZ2V0QXR0ZW5kYW5jZShpZDogbnVtYmVyKTogUHJvbWlzZTxBdHRlbmRhbmNlPiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXBpVXJsICsgJy8nICsgaWQsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciEgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBBdHRlbmRhbmNlKHJlc3VsdC5pZCwgcmVzdWx0LnByYXllclRpbWUsIHJlc3VsdC5kYXRlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgaXNFbXB0eShwcmF5ZXJUaW1lOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgcmV0dXJuIHByYXllclRpbWUgIT09ICcnICYmIHByYXllclRpbWUgIT09IHVuZGVmaW5lZCAmJiBwcmF5ZXJUaW1lICE9PSBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyB0YWtlQXR0ZW5kYW5jZShwcmF5ZXJUaW1lOiBzdHJpbmcsIHN0dWRlbnRBdHRlbmRhbmNlRHRvOiBBcnJheTxTdHVkZW50QXR0ZW5kYW5jZURUTz4pIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW1wdHkocHJheWVyVGltZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUHJheWVyIHRpbWUgY2Fubm90IGJlIGVtcHR5IScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXBpVXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIHByYXllclRpbWU6IHByYXllclRpbWUsXG4gICAgICAgICAgICAgICAgc3R1ZGVudEF0dGVuZGFuY2VEdG86IHN0dWRlbnRBdHRlbmRhbmNlRHRvXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIHVwZGF0ZUF0dGVuZGFuY2UoaWQ6IG51bWJlciwgcHJheWVyVGltZTogc3RyaW5nLCBzdHVkZW50QXR0ZW5kYW5jZUR0bzogQXJyYXk8U3R1ZGVudEF0dGVuZGFuY2VEVE8+KSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXBpVXJsICsgJy8nICsgaWQsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgcHJheWVyVGltZTogcHJheWVyVGltZSxcbiAgICAgICAgICAgICAgICBzdHVkZW50QXR0ZW5kYW5jZUR0bzogc3R1ZGVudEF0dGVuZGFuY2VEdG9cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBkZWxldGVBdHRlbmRhbmNlKGlkOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhcGlVcmwgKyAnLycgKyBpZCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIGlkOiBpZFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBBdHRlbmRhbmNlIH0gZnJvbSBcIi4uL2RvbWFpbi9hdHRlbmRhbmNlXCI7XG5pbXBvcnQgeyBTdHVkZW50IH0gZnJvbSBcIi4uL2RvbWFpbi9zdHVkZW50XCI7XG5pbXBvcnQgeyBTdHVkZW50QXR0ZW5kYW5jZSB9IGZyb20gXCIuLi9kb21haW4vc3R1ZGVudF9hdHRlbmRhbmNlXCI7XG5cbnZhciBhcGlVcmw6IHN0cmluZyA9ICdodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL3YxL3N0dWRlbnQtYXR0ZW5kYW5jZXMnO1xuXG5leHBvcnQgY2xhc3MgU3R1ZGVudEF0dGVuZGFuY2VTZXJ2aWNlIHtcbiAgICBwcml2YXRlIF9zdHVkZW50QXR0ZW5kYW5jZXM6IEFycmF5PFN0dWRlbnRBdHRlbmRhbmNlPiA9IFtdO1xuXG4gICAgcHVibGljIGFzeW5jIGdldFN0dWRlbnRBdHRlbmRhbmNlcygpOiBQcm9taXNlPFN0dWRlbnRBdHRlbmRhbmNlW10+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhcGlVcmwsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciEgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgdGhpcy5fc3R1ZGVudEF0dGVuZGFuY2VzID0gW107XG4gICAgICAgIHRoaXMuX3N0dWRlbnRBdHRlbmRhbmNlcyA9IHJlc3VsdC5tYXAoKHN0dWRlbnRBdHRlbmRhbmNlOiBhbnkpID0+IG5ldyBTdHVkZW50QXR0ZW5kYW5jZShcbiAgICAgICAgICAgIG5ldyBTdHVkZW50KHN0dWRlbnRBdHRlbmRhbmNlLnN0dWRlbnQuaWQsIHN0dWRlbnRBdHRlbmRhbmNlLnN0dWRlbnQubmFtZSwgc3R1ZGVudEF0dGVuZGFuY2Uuc3R1ZGVudC5zdXJuYW1lLCBzdHVkZW50QXR0ZW5kYW5jZS5zdHVkZW50LmFic2VudCksXG4gICAgICAgICAgICBuZXcgQXR0ZW5kYW5jZShzdHVkZW50QXR0ZW5kYW5jZS5hdHRlbmRhbmNlLmlkLCBzdHVkZW50QXR0ZW5kYW5jZS5hdHRlbmRhbmNlLnByYXllclRpbWUsIHN0dWRlbnRBdHRlbmRhbmNlLmF0dGVuZGFuY2UuZGF0ZSksXG4gICAgICAgICAgICBzdHVkZW50QXR0ZW5kYW5jZS5pc0Fic2VuY2UpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0dWRlbnRBdHRlbmRhbmNlcztcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZ2V0U3R1ZGVudHNCeUF0dGVuZGFuY2VJZChhdHRlbmRhbmNlSWQ6IG51bWJlcik6IFByb21pc2U8U3R1ZGVudEF0dGVuZGFuY2VbXT4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwaVVybCArICcvPycgKyBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICAgICAgICAgIGF0dGVuZGFuY2VJZDogYXR0ZW5kYW5jZUlkLnRvU3RyaW5nKClcbiAgICAgICAgfSksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciEgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5tYXAoKHN0dWRlbnRBdHRlbmRhbmNlOiBhbnkpID0+IG5ldyBTdHVkZW50QXR0ZW5kYW5jZShcbiAgICAgICAgICAgIG5ldyBTdHVkZW50KHN0dWRlbnRBdHRlbmRhbmNlLnN0dWRlbnQuaWQsIHN0dWRlbnRBdHRlbmRhbmNlLnN0dWRlbnQubmFtZSwgc3R1ZGVudEF0dGVuZGFuY2Uuc3R1ZGVudC5zdXJuYW1lLCBzdHVkZW50QXR0ZW5kYW5jZS5zdHVkZW50LmFic2VudCksXG4gICAgICAgICAgICBuZXcgQXR0ZW5kYW5jZShzdHVkZW50QXR0ZW5kYW5jZS5hdHRlbmRhbmNlLmlkLCBzdHVkZW50QXR0ZW5kYW5jZS5hdHRlbmRhbmNlLnByYXllclRpbWUsIHN0dWRlbnRBdHRlbmRhbmNlLmF0dGVuZGFuY2UuZGF0ZSksXG4gICAgICAgICAgICBzdHVkZW50QXR0ZW5kYW5jZS5pc0Fic2VuY2UpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZ2V0QXR0ZW5kYW5jZXNCeVN0dWRlbnRJZChzdHVkZW50SWQ6IG51bWJlcik6IFByb21pc2U8U3R1ZGVudEF0dGVuZGFuY2VbXT4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwaVVybCArICcvPycgKyBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICAgICAgICAgIHN0dWRlbnRJZDogc3R1ZGVudElkLnRvU3RyaW5nKClcbiAgICAgICAgfSksIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciEgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5tYXAoKHN0dWRlbnRBdHRlbmRhbmNlOiBhbnkpID0+IG5ldyBTdHVkZW50QXR0ZW5kYW5jZShcbiAgICAgICAgICAgIG5ldyBTdHVkZW50KHN0dWRlbnRBdHRlbmRhbmNlLnN0dWRlbnQuaWQsIHN0dWRlbnRBdHRlbmRhbmNlLnN0dWRlbnQubmFtZSwgc3R1ZGVudEF0dGVuZGFuY2Uuc3R1ZGVudC5zdXJuYW1lLCBzdHVkZW50QXR0ZW5kYW5jZS5zdHVkZW50LmFic2VudCksXG4gICAgICAgICAgICBuZXcgQXR0ZW5kYW5jZShzdHVkZW50QXR0ZW5kYW5jZS5hdHRlbmRhbmNlLmlkLCBzdHVkZW50QXR0ZW5kYW5jZS5hdHRlbmRhbmNlLnByYXllclRpbWUsIHN0dWRlbnRBdHRlbmRhbmNlLmF0dGVuZGFuY2UuZGF0ZSksXG4gICAgICAgICAgICBzdHVkZW50QXR0ZW5kYW5jZS5pc0Fic2VuY2UpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgU3R1ZGVudCB9IGZyb20gXCIuLi9kb21haW4vc3R1ZGVudFwiO1xuaW1wb3J0IGZldGNoIGZyb20gJ25vZGUtZmV0Y2gnO1xuXG52YXIgYXBpVXJsOiBzdHJpbmcgPSAnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaS92MS9zdHVkZW50cyc7XG52YXIgcmVnTmFtZSA9IC9eW2EtekEtWsSfw7zFn8Sxw7bDp8Sew5zFnsSww5bDhyBdezMsMjB9JC87XG52YXIgcmVnU3VybmFtZSA9IC9eW2EtekEtWsSfw7zFn8Sxw7bDp8Sew5zFnsSww5bDhyBdezIsMjB9JC87XG5cbmV4cG9ydCBjbGFzcyBTdHVkZW50U2VydmljZSB7XG4gICAgcHJpdmF0ZSBfc3R1ZGVudHM6IFN0dWRlbnRbXSA9IFtdO1xuXG4gICAgcHVibGljIGFzeW5jIGdldFN0dWRlbnRzKCk6IFByb21pc2U8U3R1ZGVudFtdPiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXBpVXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IhIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgIHRoaXMuX3N0dWRlbnRzID0gW107XG4gICAgICAgIHJlc3VsdC5mb3JFYWNoKChzdHVkZW50OiBhbnkpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3N0dWRlbnRzLnB1c2gobmV3IFN0dWRlbnQoc3R1ZGVudC5pZCwgc3R1ZGVudC5uYW1lLCBzdHVkZW50LnN1cm5hbWUsIHN0dWRlbnQuYWJzZW50KSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fc3R1ZGVudHM7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdldFN0dWRlbnQoaWQ6IG51bWJlcik6IFByb21pc2U8U3R1ZGVudD4ge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwaVVybCArICcvJyArIGlkLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciEgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnN0IGdldFJlc3VsdCA9IDxTdHVkZW50PkpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7XG4gICAgICAgIHJldHVybiBuZXcgU3R1ZGVudChnZXRSZXN1bHQuZ2V0SWQoKSwgZ2V0UmVzdWx0LmdldE5hbWUoKSwgZ2V0UmVzdWx0LmdldFN1cm5hbWUoKSwgZ2V0UmVzdWx0LmdldEFic2VudCgpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgYWRkU3R1ZGVudChuYW1lOiBzdHJpbmcsIHN1cm5hbWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLnZhbGlkYXRlU3R1ZGVudChuYW1lLCBzdXJuYW1lKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhcGlVcmwsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgc3VybmFtZTogc3VybmFtZVxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IhIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyB1cGRhdGVTdHVkZW50KHN0dWRlbnQ6IFN0dWRlbnQsIG5hbWU6IHN0cmluZywgc3VybmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGVTdHVkZW50KG5hbWUsIHN1cm5hbWUpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwaVVybCArICcvJyArIHN0dWRlbnQuZ2V0SWQoKSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgIHN1cm5hbWU6IHN1cm5hbWVcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIHZhbGlkYXRlU3R1ZGVudChuYW1lOiBzdHJpbmcsIHN1cm5hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoISh0aGlzLmlzVmFsaWQobmFtZSwgc3VybmFtZSkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOYW1lIG9yIHN1cm5hbWUgaXMgbm90IHZhbGlkXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGlzVmFsaWQobmFtZTogc3RyaW5nLCBzdXJuYW1lOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgcmV0dXJuIHJlZ05hbWUudGVzdChuYW1lKSAmJiByZWdTdXJuYW1lLnRlc3Qoc3VybmFtZSk7XG4gICAgfVxuXG5cbiAgICBwdWJsaWMgYXN5bmMgZGVsZXRlU3R1ZGVudChpZDogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXBpVXJsICsgJy8nICsgaWQsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgICB9XG4gICAgfVxufSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJpbXBvcnQgeyBTdHVkZW50IH0gZnJvbSBcIi4vZG9tYWluL3N0dWRlbnRcIjtcbmltcG9ydCB7IFN0dWRlbnRTZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZS9zdHVkZW50X3NlcnZpY2VcIjtcbmltcG9ydCB7IEF0dGVuZGFuY2VTZXJ2aWNlIH0gZnJvbSBcIi4vc2VydmljZS9hdHRlbmRhbmNlX3NlcnZpY2VcIjtcbmltcG9ydCB7IFN0dWRlbnRBdHRlbmRhbmNlU2VydmljZSB9IGZyb20gXCIuL3NlcnZpY2Uvc3R1ZGVudF9hdHRlbmRhbmNlX3NlcnZpY2VcIjtcbmltcG9ydCB7IFN0dWRlbnRBdHRlbmRhbmNlRFRPIH0gZnJvbSBcIi4vZHRvL3N0dWRlbnRfYXR0ZW5kYW5jZV9kdG9cIjtcblxuY29uc3Qgc3R1ZGVudFNlcnZpY2UgPSBuZXcgU3R1ZGVudFNlcnZpY2UoKTtcbmNvbnN0IGF0dGVuZGFuY2VTZXJ2aWNlID0gbmV3IEF0dGVuZGFuY2VTZXJ2aWNlKCk7XG5jb25zdCBzdHVkZW50QXR0ZW5kYW5jZXNlcnZpY2UgPSBuZXcgU3R1ZGVudEF0dGVuZGFuY2VTZXJ2aWNlKCk7XG5cbmNvbnN0IGFkZFN0dWRlbnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZFN0dWRlbnRCdXR0b25cIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG5jb25zdCB1cGRhdGVTdHVkZW50QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1cGRhdGVTdHVkZW50QnV0dG9uXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuY29uc3QgdGFrZUF0dGVuZGFuY2VCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRha2VBdHRlbmRhbmNlQnV0dG9uXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuY29uc3QgdXBkYXRlQXR0ZW5kYW5jZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXBkYXRlQXR0ZW5kYW5jZUJ1dHRvblwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcblxuY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYW1lSW5wdXRcIikgYXMgSFRNTElucHV0RWxlbWVudDtcbmNvbnN0IHN1cm5hbWVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VybmFtZUlucHV0XCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG5cbmNvbnN0IHNlbGVjdFByYXllclRpbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbGVjdFByYXllclRpbWVcIikgYXMgSFRNTElucHV0RWxlbWVudDtcbmNvbnN0IHNlbGVjdExpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcInNlbGVjdEFic2VuY2VcIikgYXMgTm9kZUxpc3RPZjxIVE1MSW5wdXRFbGVtZW50PjtcbmNvbnN0IG15U2VsZWN0QXR0ZW5kYW5jZUlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxlY3RMaXN0V2l0aEF0dGVuZGFuY2VJZFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuY29uc3QgbXlTZWxlY3RTdHVkZW50SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm15U2VsZWN0U3R1ZGVudElkXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG5cbmNvbnN0IHN0dWRlbnRUYWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3R1ZGVudExpc3RCb2R5XCIpIGFzIEhUTUxUYWJsZUVsZW1lbnQ7XG5jb25zdCB0YWtlQXR0ZW5kYW5jZVRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YWtlQXR0ZW5kYW5jZUJvZHlcIikgYXMgSFRNTFRhYmxlRWxlbWVudDtcbmNvbnN0IGxpc3RBdHRlbmRhbmNlQm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGlzdEF0dGVuZGFuY2VCb2R5XCIpIGFzIEhUTUxUYWJsZUVsZW1lbnQ7XG5jb25zdCB0Ym9keUxpc3RGb3JBdHRlbmRhbmNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0Ym9keUxpc3RGb3JBdHRlbmRhbmNlXCIpIGFzIEhUTUxUYWJsZVNlY3Rpb25FbGVtZW50O1xuY29uc3QgdGJvZHlMaXN0V2l0aFN0dWRlbnRJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGJvZHlMaXN0V2l0aFN0dWRlbnRJZFwiKSBhcyBIVE1MVGFibGVTZWN0aW9uRWxlbWVudDtcblxuc2hvd1N0dWRlbnRMaXN0KCk7XG50YWtlQXR0ZW5kYW5jZUxpc3QoKTtcbmxpc3RBdHRlbmRhbmNlKCk7XG5saXN0QnlBdHRlbmRhbmNlKCk7XG5saXN0QnlTdHVkZW50KCk7XG5saXN0U3R1ZGVudHNXaXRoQXR0ZW5kYW5jZUlkKDApO1xubGlzdEF0dGVuZGFuY2VXaXRoU3R1ZGVudElkKDApO1xuXG5sZXQgc2VsZWN0ZWRTdHVkZW50OiBTdHVkZW50O1xubGV0IHNlbGVjdGVkQXR0ZW5kYW5jZUlkOiBudW1iZXI7XG5cblxuYWRkU3R1ZGVudEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc29sZS5sb2coXCJFa2xlbWVcIik7XG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgc3R1ZGVudFNlcnZpY2UuYWRkU3R1ZGVudChuYW1lSW5wdXQudmFsdWUsIHN1cm5hbWVJbnB1dC52YWx1ZSk7XG4gICAgICAgIHNob3dTdHVkZW50TGlzdCgpO1xuICAgICAgICB0YWtlQXR0ZW5kYW5jZUxpc3QoKTtcbiAgICAgICAgbGlzdEJ5U3R1ZGVudCgpO1xuICAgICAgICBsaXN0QXR0ZW5kYW5jZVdpdGhTdHVkZW50SWQoMCk7XG4gICAgICAgIGFsZXJ0KG5hbWVJbnB1dC52YWx1ZSArIFwiIFwiICsgc3VybmFtZUlucHV0LnZhbHVlICsgXCJcXG7DlsSfcmVuY2kgRWtsZW5kaVwiKTtcbiAgICAgICAgbmFtZUlucHV0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgc3VybmFtZUlucHV0LnZhbHVlID0gXCJcIjtcbiAgICB9IGNhdGNoIHtcbiAgICAgICAgYWxlcnQoXCJUYWxlYmUgQURJIHZlIFNPWUFESSB1eWd1biBmb3JtYXR0YSBkZcSfaWxcXG4zLTIwIGthcmFrdGVyIGFyYXPEsSBzYWRlY2UgaGFyZiBnaXJpbml6XFxuw5ZybmVrOiBCZWt0YcWfIEnFn8Sxa1wiKTtcbiAgICB9XG59KTtcblxudXBkYXRlU3R1ZGVudEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc29sZS5sb2coXCJHw7xuY2VsbGVtZVwiKTtcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBzdHVkZW50U2VydmljZS51cGRhdGVTdHVkZW50KHNlbGVjdGVkU3R1ZGVudCwgbmFtZUlucHV0LnZhbHVlLCBzdXJuYW1lSW5wdXQudmFsdWUpO1xuICAgICAgICBuYW1lSW5wdXQudmFsdWUgPSBcIlwiO1xuICAgICAgICBzdXJuYW1lSW5wdXQudmFsdWUgPSBcIlwiO1xuICAgICAgICBhZGRTdHVkZW50QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHVwZGF0ZVN0dWRlbnRCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICBzaG93U3R1ZGVudExpc3QoKTtcbiAgICAgICAgdGFrZUF0dGVuZGFuY2VMaXN0KCk7XG4gICAgICAgIGxpc3RCeVN0dWRlbnQoKTtcbiAgICAgICAgbGlzdEF0dGVuZGFuY2VXaXRoU3R1ZGVudElkKDApO1xuICAgICAgICBhbGVydChcIsOWxJ9yZW5jaSBHw7xuY2VsbGVuZGlcIik7XG4gICAgfSBjYXRjaCB7XG4gICAgICAgIGFsZXJ0KFwiVGFsZWJlIEFESSB2ZSBTT1lBREkgdXlndW4gZm9ybWF0dGEgZGXEn2lsXFxuMy0yMCBrYXJha3RlciBhcmFzxLEgc2FkZWNlIGhhcmYgZ2lyaW5pelxcbsOWcm5lazogQmVrdGHFnyBJxZ/EsWtcIik7XG4gICAgfVxufSk7XG5cbnRha2VBdHRlbmRhbmNlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zb2xlLmxvZyhcIllva2xhbWEgYWxtYVwiKTtcbiAgICBsZXQgc3R1ZGVudEF0dGVuZGFuY2VEdG8gPSBuZXcgQXJyYXk8U3R1ZGVudEF0dGVuZGFuY2VEVE8+KCk7XG4gICAgKGF3YWl0IHN0dWRlbnRTZXJ2aWNlLmdldFN0dWRlbnRzKCkpLmZvckVhY2goKHN0dWRlbnQ6IFN0dWRlbnQsIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgc3R1ZGVudEF0dGVuZGFuY2VEdG8ucHVzaChuZXcgU3R1ZGVudEF0dGVuZGFuY2VEVE8oc3R1ZGVudC5nZXRJZCgpLCBzZWxlY3RMaXN0W2luZGV4XS5jaGVja2VkKSk7XG4gICAgfSk7XG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgYXR0ZW5kYW5jZVNlcnZpY2UudGFrZUF0dGVuZGFuY2Uoc2VsZWN0UHJheWVyVGltZS52YWx1ZSwgc3R1ZGVudEF0dGVuZGFuY2VEdG8pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgc2hvd1N0dWRlbnRMaXN0KCk7XG4gICAgICAgICAgICB0YWtlQXR0ZW5kYW5jZUxpc3QoKTtcbiAgICAgICAgICAgIGxpc3RBdHRlbmRhbmNlKCk7XG4gICAgICAgICAgICBsaXN0QnlBdHRlbmRhbmNlKCk7XG4gICAgICAgICAgICBsaXN0QnlTdHVkZW50KCk7XG4gICAgICAgICAgICBsaXN0U3R1ZGVudHNXaXRoQXR0ZW5kYW5jZUlkKDApO1xuICAgICAgICAgICAgbGlzdEF0dGVuZGFuY2VXaXRoU3R1ZGVudElkKDApO1xuICAgICAgICAgICAgYWxlcnQoc2VsZWN0UHJheWVyVGltZS52YWx1ZSArIFwiIFlva2xhbWFzxLEgQWzEsW5kxLFcIik7XG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2gge1xuICAgICAgICBhbGVydChcIkzDvHRmZW4gVmFrdGkgU2XDp2luaXpcIik7XG4gICAgfVxufSk7XG5cbnVwZGF0ZUF0dGVuZGFuY2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnNvbGUubG9nKFwiWW9rbGFtYSBnw7xuY2VsbGVtZVwiKTtcbiAgICBsZXQgc3R1ZGVudEF0dGVuZGFuY2VEdG8gPSBuZXcgQXJyYXk8U3R1ZGVudEF0dGVuZGFuY2VEVE8+KCk7XG4gICAgKGF3YWl0IHN0dWRlbnRTZXJ2aWNlLmdldFN0dWRlbnRzKCkpLmZvckVhY2goKHN0dWRlbnQ6IFN0dWRlbnQsIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgc3R1ZGVudEF0dGVuZGFuY2VEdG8ucHVzaChuZXcgU3R1ZGVudEF0dGVuZGFuY2VEVE8oc3R1ZGVudC5nZXRJZCgpLCBzZWxlY3RMaXN0W2luZGV4XS5jaGVja2VkKSk7XG4gICAgfSk7XG4gICAgYXdhaXQgYXR0ZW5kYW5jZVNlcnZpY2UudXBkYXRlQXR0ZW5kYW5jZShzZWxlY3RlZEF0dGVuZGFuY2VJZCwgc2VsZWN0UHJheWVyVGltZS52YWx1ZSwgc3R1ZGVudEF0dGVuZGFuY2VEdG8pO1xuICAgIHNob3dTdHVkZW50TGlzdCgpO1xuICAgIHRha2VBdHRlbmRhbmNlTGlzdCgpO1xuICAgIGxpc3RBdHRlbmRhbmNlKCk7XG4gICAgbGlzdEJ5QXR0ZW5kYW5jZSgpO1xuICAgIGxpc3RCeVN0dWRlbnQoKTtcbiAgICBsaXN0U3R1ZGVudHNXaXRoQXR0ZW5kYW5jZUlkKDApO1xuICAgIGxpc3RBdHRlbmRhbmNlV2l0aFN0dWRlbnRJZCgwKTtcbiAgICB0YWtlQXR0ZW5kYW5jZUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIHVwZGF0ZUF0dGVuZGFuY2VCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIGFsZXJ0KHNlbGVjdFByYXllclRpbWUudmFsdWUgKyBcIllva2xhbWFzxLEgR8O8bmNlbGxlbmRpXCIpO1xufSk7XG5cbm15U2VsZWN0QXR0ZW5kYW5jZUlkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoIShteVNlbGVjdEF0dGVuZGFuY2VJZC52YWx1ZSA9PT0gXCIwXCIpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiWW9rbGFtYSBTZcOnaWxkaVwiKTtcbiAgICAgICAgbGlzdFN0dWRlbnRzV2l0aEF0dGVuZGFuY2VJZChOdW1iZXIobXlTZWxlY3RBdHRlbmRhbmNlSWQudmFsdWUpKTtcbiAgICAgICAgYWxlcnQoXCJTZcOnaWxlbiBZb2tsYW1hbsSxbiDDlsSfcmVuY2lsZXJpIExpc3RlbGVuZGlcIik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhbGVydChcIkzDvHRmZW4gWW9rbGFtYSBNZXZjdXQgaXNlIFNlw6dpbml6IFxcbllva2xhbWEgWW9rc2EgWW9rbGFtYSBBbMSxbsSxelwiKTtcbiAgICB9XG59KTtcblxubXlTZWxlY3RTdHVkZW50SWQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICghKG15U2VsZWN0U3R1ZGVudElkLnZhbHVlID09PSBcIjBcIikpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJUYWxlYmUgU2XDp2lsZGlcIik7XG4gICAgICAgIGxpc3RBdHRlbmRhbmNlV2l0aFN0dWRlbnRJZChOdW1iZXIobXlTZWxlY3RTdHVkZW50SWQudmFsdWUpKTtcbiAgICAgICAgYWxlcnQoXCJTZcOnaWxlbiDDlsSfcmVuY2luaW4gWW9rbGFtYWxhcsSxIExpc3RlbGVuZGlcIik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhbGVydChcIkzDvHRmZW4gWW9rbGFtYSBNZXZjdXQgaXNlIFNlw6dpbml6IFxcbllva2xhbWEgWW9rc2EgWW9rbGFtYSBBbMSxbsSxelwiKTtcbiAgICB9XG59KTtcblxuYXN5bmMgZnVuY3Rpb24gc2hvd1N0dWRlbnRMaXN0KCkge1xuICAgIHN0dWRlbnRUYWJsZS5pbm5lckhUTUwgPSBcIlwiO1xuICAgIChhd2FpdCBzdHVkZW50U2VydmljZS5nZXRTdHVkZW50cygpKS5mb3JFYWNoKChzdHVkZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgICAgICBjb25zdCB0ZElkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICBjb25zdCB0ZE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgIGNvbnN0IHRkU3VybmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICAgICAgY29uc3QgdGRBYnNlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgIGNvbnN0IHRkRGVsZXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICBjb25zdCB0ZFVwZGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICAgICAgY29uc3QgdGRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgIGNvbnN0IHVwZGF0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG5cbiAgICAgICAgdGRJZC5pbm5lckhUTUwgPSBzdHVkZW50LmdldElkKCkudG9TdHJpbmcoKTtcbiAgICAgICAgdGROYW1lLmlubmVyVGV4dCA9IHN0dWRlbnQuZ2V0TmFtZSgpO1xuICAgICAgICB0ZFN1cm5hbWUuaW5uZXJUZXh0ID0gc3R1ZGVudC5nZXRTdXJuYW1lKCk7XG4gICAgICAgIHRkQWJzZW50LmlubmVyVGV4dCA9IHN0dWRlbnQuZ2V0QWJzZW50KCkudG9TdHJpbmcoKTtcbiAgICAgICAgZGVsZXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiYnRuIGJ0bi1kYW5nZXJcIik7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImRlbGV0ZUJ1dHRvblwiKTtcbiAgICAgICAgZGVsZXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImRhdGEtaWRcIiwgc3R1ZGVudC5nZXRJZCgpLnRvU3RyaW5nKCkpO1xuICAgICAgICBkZWxldGVCdXR0b24uaW5uZXJIVE1MID0gJzxpIGNsYXNzPVwiZmFzIGZhLXRyYXNoLWFsdFwiPjwvaT4nO1xuICAgICAgICB1cGRhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJidG4gYnRuLXByaW1hcnlcIik7XG4gICAgICAgIHVwZGF0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInVwZGF0ZUJ1dHRvblwiKTtcbiAgICAgICAgdXBkYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImRhdGEtaWRcIiwgc3R1ZGVudC5nZXRJZCgpLnRvU3RyaW5nKCkpO1xuICAgICAgICB1cGRhdGVCdXR0b24uaW5uZXJIVE1MID0gJzxpIGNsYXNzPVwiZmEtc29saWQgZmEtZWRpdFwiPjwvaT4nO1xuICAgICAgICB0ZERlbGV0ZS5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xuICAgICAgICB0ZFVwZGF0ZS5hcHBlbmRDaGlsZCh1cGRhdGVCdXR0b24pO1xuICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZElkKTtcbiAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGROYW1lKTtcbiAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGRTdXJuYW1lKTtcbiAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGRBYnNlbnQpO1xuICAgICAgICB0ZEJ1dHRvbi5hcHBlbmRDaGlsZCh0ZERlbGV0ZSk7XG4gICAgICAgIHRkQnV0dG9uLmFwcGVuZENoaWxkKHRkVXBkYXRlKTtcbiAgICAgICAgdGRCdXR0b24uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJkLWZsZXgganVzdGlmeS1jb250ZW50LWFyb3VuZFwiKTtcbiAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGRCdXR0b24pO1xuICAgICAgICBzdHVkZW50VGFibGUuYXBwZW5kQ2hpbGQodHIpO1xuXG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2lsbWVcIik7XG4gICAgICAgICAgICBhd2FpdCBzdHVkZW50U2VydmljZS5kZWxldGVTdHVkZW50KE51bWJlcihkZWxldGVCdXR0b24uZGF0YXNldC5pZCkpO1xuICAgICAgICAgICAgc2hvd1N0dWRlbnRMaXN0KCk7XG4gICAgICAgICAgICB0YWtlQXR0ZW5kYW5jZUxpc3QoKTtcbiAgICAgICAgICAgIGxpc3RCeVN0dWRlbnQoKTtcbiAgICAgICAgICAgIGxpc3RBdHRlbmRhbmNlV2l0aFN0dWRlbnRJZCgwKTtcbiAgICAgICAgICAgIGFsZXJ0KFwiw5bEn3JlbmNpIFNpbGluZGlcIik7XG4gICAgICAgIH0pO1xuICAgICAgICB1cGRhdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBzZWxlY3RlZFN0dWRlbnQgPSBzdHVkZW50O1xuICAgICAgICAgICAgbmFtZUlucHV0LnZhbHVlID0gc2VsZWN0ZWRTdHVkZW50LmdldE5hbWUoKTtcbiAgICAgICAgICAgIHN1cm5hbWVJbnB1dC52YWx1ZSA9IHNlbGVjdGVkU3R1ZGVudC5nZXRTdXJuYW1lKCk7XG4gICAgICAgICAgICB1cGRhdGVCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgZGVsZXRlQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIHVwZGF0ZVN0dWRlbnRCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgIGFkZFN0dWRlbnRCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgdXBkYXRlU3R1ZGVudEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIsIHNlbGVjdGVkU3R1ZGVudC5nZXRJZCgpLnRvU3RyaW5nKCkpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gdGFrZUF0dGVuZGFuY2VMaXN0KCkge1xuICAgIHRha2VBdHRlbmRhbmNlVGFibGUuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAoYXdhaXQgc3R1ZGVudFNlcnZpY2UuZ2V0U3R1ZGVudHMoKSkuZm9yRWFjaCgoc3R1ZGVudCkgPT4ge1xuICAgICAgICBjb25zdCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcbiAgICAgICAgY29uc3QgdGRJZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICAgICAgY29uc3QgdGROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICBjb25zdCB0ZFN1cm5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgIGNvbnN0IHRkT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcblxuICAgICAgICB0ZElkLmlubmVySFRNTCA9IHN0dWRlbnQuZ2V0SWQoKS50b1N0cmluZygpO1xuICAgICAgICB0ZE5hbWUuaW5uZXJUZXh0ID0gc3R1ZGVudC5nZXROYW1lKCk7XG4gICAgICAgIHRkU3VybmFtZS5pbm5lclRleHQgPSBzdHVkZW50LmdldFN1cm5hbWUoKTtcblxuICAgICAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInN3aXRjaFwiKTtcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImNoZWNrYm94XCIpO1xuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImNoZWNrYm94XCIpO1xuICAgICAgICBpbnB1dC5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcInNlbGVjdEFic2VuY2VcIik7XG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZShcImRhdGEtaWRcIiwgc3R1ZGVudC5nZXRJZCgpLnRvU3RyaW5nKCkpO1xuICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwic2xpZGVyIHJvdW5kXCIpO1xuXG4gICAgICAgIGxhYmVsLmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gICAgICAgIHRkT3B0aW9uLmFwcGVuZENoaWxkKGxhYmVsKTtcblxuICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZElkKTtcbiAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGROYW1lKTtcbiAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGRTdXJuYW1lKTtcbiAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGRPcHRpb24pO1xuICAgICAgICB0YWtlQXR0ZW5kYW5jZVRhYmxlLmFwcGVuZENoaWxkKHRyKTtcbiAgICB9KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gbGlzdEF0dGVuZGFuY2UoKSB7XG4gICAgbGlzdEF0dGVuZGFuY2VCb2R5LmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICAoYXdhaXQgYXR0ZW5kYW5jZVNlcnZpY2UuZ2V0QXR0ZW5kYW5jZXMoKSkuZm9yRWFjaCgoYXR0ZW5kYW5jZSkgPT4ge1xuICAgICAgICBjb25zdCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcbiAgICAgICAgY29uc3QgdGRJZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICAgICAgY29uc3QgdGREYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICBjb25zdCB0ZFByYXllclRpbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgIGNvbnN0IHRkRGVsZXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICBjb25zdCB0ZFVwZGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICAgICAgY29uc3QgdGRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgIGNvbnN0IHVwZGF0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG5cbiAgICAgICAgdGRJZC5pbm5lckhUTUwgPSBhdHRlbmRhbmNlLmdldElkKCkudG9TdHJpbmcoKTtcbiAgICAgICAgdGREYXRlLmlubmVyVGV4dCA9IGF0dGVuZGFuY2UuZ2V0VG9kYXkoKTtcbiAgICAgICAgdGRQcmF5ZXJUaW1lLmlubmVyVGV4dCA9IGF0dGVuZGFuY2UuZ2V0UHJheWVyVGltZSgpO1xuICAgICAgICBkZWxldGVCdXR0b24uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJidG4gYnRuLWRhbmdlclwiKTtcbiAgICAgICAgZGVsZXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZGVsZXRlQnV0dG9uXCIpO1xuICAgICAgICBkZWxldGVCdXR0b24uc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLCBhdHRlbmRhbmNlLmdldElkKCkudG9TdHJpbmcoKSk7XG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJmYXMgZmEtdHJhc2gtYWx0XCI+PC9pPic7XG4gICAgICAgIHVwZGF0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImJ0biBidG4tcHJpbWFyeVwiKTtcbiAgICAgICAgdXBkYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImlkXCIsIFwidXBkYXRlQnV0dG9uXCIpO1xuICAgICAgICB1cGRhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLCBhdHRlbmRhbmNlLmdldElkKCkudG9TdHJpbmcoKSk7XG4gICAgICAgIHVwZGF0ZUJ1dHRvbi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1lZGl0XCI+PC9pPic7XG4gICAgICAgIHRkRGVsZXRlLmFwcGVuZENoaWxkKGRlbGV0ZUJ1dHRvbik7XG4gICAgICAgIHRkVXBkYXRlLmFwcGVuZENoaWxkKHVwZGF0ZUJ1dHRvbik7XG4gICAgICAgIHRyLmFwcGVuZENoaWxkKHRkSWQpO1xuICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZERhdGUpO1xuICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZFByYXllclRpbWUpO1xuICAgICAgICB0ZEJ1dHRvbi5hcHBlbmRDaGlsZCh0ZERlbGV0ZSk7XG4gICAgICAgIHRkQnV0dG9uLmFwcGVuZENoaWxkKHRkVXBkYXRlKTtcbiAgICAgICAgdGRCdXR0b24uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJkLWZsZXgganVzdGlmeS1jb250ZW50LWFyb3VuZFwiKTtcbiAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGRCdXR0b24pO1xuICAgICAgICBsaXN0QXR0ZW5kYW5jZUJvZHkuYXBwZW5kQ2hpbGQodHIpO1xuXG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2lsbWVcIik7XG4gICAgICAgICAgICBhd2FpdCBhdHRlbmRhbmNlU2VydmljZS5kZWxldGVBdHRlbmRhbmNlKE51bWJlcihkZWxldGVCdXR0b24uZGF0YXNldC5pZCkpO1xuICAgICAgICAgICAgc2hvd1N0dWRlbnRMaXN0KCk7XG4gICAgICAgICAgICB0YWtlQXR0ZW5kYW5jZUxpc3QoKTtcbiAgICAgICAgICAgIGxpc3RBdHRlbmRhbmNlKCk7XG4gICAgICAgICAgICBsaXN0QnlBdHRlbmRhbmNlKCk7XG4gICAgICAgICAgICBsaXN0QnlTdHVkZW50KCk7XG4gICAgICAgICAgICBsaXN0U3R1ZGVudHNXaXRoQXR0ZW5kYW5jZUlkKDApO1xuICAgICAgICAgICAgbGlzdEF0dGVuZGFuY2VXaXRoU3R1ZGVudElkKDApO1xuICAgICAgICAgICAgYWxlcnQoXCJZb2tsYW1hIFNpbGluZGlcIik7XG4gICAgICAgIH0pO1xuICAgICAgICB1cGRhdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBzZWxlY3RlZEF0dGVuZGFuY2VJZCA9IGF0dGVuZGFuY2UuZ2V0SWQoKTtcbiAgICAgICAgICAgIHNlbGVjdFByYXllclRpbWUudmFsdWUgPSBhdHRlbmRhbmNlLmdldFByYXllclRpbWUoKTtcbiAgICAgICAgICAgIHVwZGF0ZUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICBkZWxldGVCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgdXBkYXRlQXR0ZW5kYW5jZUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgdGFrZUF0dGVuZGFuY2VCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgdXBkYXRlQXR0ZW5kYW5jZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIsIHNlbGVjdGVkQXR0ZW5kYW5jZUlkLnRvU3RyaW5nKCkpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuLyogU2XDp2lsZW4geW9rbGFtYSBsaXN0ZXNpbmluaW4gdGFsZWJlbGVyaW5pIGfDtnN0ZXJpci4gKi9cbmFzeW5jIGZ1bmN0aW9uIGxpc3RCeUF0dGVuZGFuY2UoKSB7XG4gICAgbXlTZWxlY3RBdHRlbmRhbmNlSWQuaW5uZXJIVE1MID0gXCJcIjtcbiAgICBjb25zdCBkZWZhdWx0T3ByaW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICBkZWZhdWx0T3ByaW9uLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiMFwiKTtcbiAgICBkZWZhdWx0T3ByaW9uLnNldEF0dHJpYnV0ZShcImhpZGRlblwiLCBcInRydWVcIik7XG4gICAgZGVmYXVsdE9wcmlvbi5pbm5lclRleHQgPSBcIllva2xhbWEgU2XDp2luaXpcIjtcbiAgICBteVNlbGVjdEF0dGVuZGFuY2VJZC5hcHBlbmRDaGlsZChkZWZhdWx0T3ByaW9uKTtcbiAgICAoYXdhaXQgYXR0ZW5kYW5jZVNlcnZpY2UuZ2V0QXR0ZW5kYW5jZXMoKSkuZm9yRWFjaCgoYXR0ZW5kYW5jZSkgPT4ge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgICAgICBvcHRpb24uc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgYXR0ZW5kYW5jZS5nZXRJZCgpLnRvU3RyaW5nKCkpO1xuICAgICAgICBvcHRpb24uaW5uZXJUZXh0ID0gYXR0ZW5kYW5jZS5nZXRUb2RheSgpO1xuICAgICAgICBteVNlbGVjdEF0dGVuZGFuY2VJZC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgIH0pO1xuXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGxpc3RTdHVkZW50c1dpdGhBdHRlbmRhbmNlSWQoYXR0ZW5kYW5jZUlkOiBudW1iZXIpIHtcbiAgICBjb25zb2xlLmxvZyhcIllva2FsbWF5YSBnw7ZyZSBUYWxlYmUgTGlzdGVsZW1lXCIpO1xuICAgIHRib2R5TGlzdEZvckF0dGVuZGFuY2UuaW5uZXJIVE1MID0gXCJcIjtcbiAgICBjb25zdCBzdHVkZW50QXR0ZW5kYW5jZUZpbHRlciA9IGF3YWl0IHN0dWRlbnRBdHRlbmRhbmNlc2VydmljZS5nZXRTdHVkZW50c0J5QXR0ZW5kYW5jZUlkKGF0dGVuZGFuY2VJZCk7XG4gICAgY29uc29sZS5sb2coc3R1ZGVudEF0dGVuZGFuY2VGaWx0ZXIpO1xuICAgIHN0dWRlbnRBdHRlbmRhbmNlRmlsdGVyLmZvckVhY2goKHN0dWRlbnRBdHRlbmRhbmNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgICAgICBjb25zdCB0ZElkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICBjb25zdCB0ZE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgIGNvbnN0IHRkU3VybmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICAgICAgY29uc3QgdGRBYnNlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG5cbiAgICAgICAgdGRJZC5pbm5lckhUTUwgPSBzdHVkZW50QXR0ZW5kYW5jZS5nZXRTdHVkZW50KCkuZ2V0SWQoKS50b1N0cmluZygpO1xuICAgICAgICB0ZE5hbWUuaW5uZXJIVE1MID0gc3R1ZGVudEF0dGVuZGFuY2UuZ2V0U3R1ZGVudCgpLmdldE5hbWUoKTtcbiAgICAgICAgdGRTdXJuYW1lLmlubmVySFRNTCA9IHN0dWRlbnRBdHRlbmRhbmNlLmdldFN0dWRlbnQoKS5nZXRTdXJuYW1lKCk7XG4gICAgICAgIHRkQWJzZW50LmlubmVySFRNTCA9IHN0dWRlbnRBdHRlbmRhbmNlLmdldElzQWJzZW5jZVRvU3RyaW5nKCk7XG5cbiAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGRJZCk7XG4gICAgICAgIHRyLmFwcGVuZENoaWxkKHRkTmFtZSk7XG4gICAgICAgIHRyLmFwcGVuZENoaWxkKHRkU3VybmFtZSk7XG4gICAgICAgIHRyLmFwcGVuZENoaWxkKHRkQWJzZW50KTtcbiAgICAgICAgdGJvZHlMaXN0Rm9yQXR0ZW5kYW5jZS5hcHBlbmRDaGlsZCh0cik7XG4gICAgfSk7XG59XG5cbi8qIFNlw6dpbGVuIMO2xJ9yZW5jaW5pbiB5b2tsYW1hIGxpc3Rlc2luaSBnw7ZzdGVyaXIuICovXG5hc3luYyBmdW5jdGlvbiBsaXN0QnlTdHVkZW50KCkgeyBcbiAgICBteVNlbGVjdFN0dWRlbnRJZC5pbm5lckhUTUwgPSBcIlwiO1xuICAgIGNvbnN0IHN0dWRlbnRMaXN0ID0gYXdhaXQgc3R1ZGVudFNlcnZpY2UuZ2V0U3R1ZGVudHMoKTtcbiAgICBjb25zdCBkZWZhdWx0T3ByaW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICBkZWZhdWx0T3ByaW9uLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiMFwiKTtcbiAgICBkZWZhdWx0T3ByaW9uLnNldEF0dHJpYnV0ZShcImhpZGRlblwiLCBcInRydWVcIik7XG4gICAgZGVmYXVsdE9wcmlvbi5pbm5lclRleHQgPSBcIsOWxJ9yZW5jaSBTZcOnaW5pelwiO1xuICAgIG15U2VsZWN0U3R1ZGVudElkLmFwcGVuZENoaWxkKGRlZmF1bHRPcHJpb24pO1xuICAgIHN0dWRlbnRMaXN0LmZvckVhY2goKHN0dWRlbnQpID0+IHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICAgICAgb3B0aW9uLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIHN0dWRlbnQuZ2V0SWQoKS50b1N0cmluZygpKTtcbiAgICAgICAgb3B0aW9uLmlubmVyVGV4dCA9IHN0dWRlbnQuZ2V0TmFtZSgpICsgXCIgXCIgKyBzdHVkZW50LmdldFN1cm5hbWUoKTtcbiAgICAgICAgbXlTZWxlY3RTdHVkZW50SWQuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICB9KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gbGlzdEF0dGVuZGFuY2VXaXRoU3R1ZGVudElkKHN0dWRlbnRJZDogbnVtYmVyKSB7XG4gICAgY29uc29sZS5sb2coXCJUYWxlYmV5ZSBnw7ZyZSBZb2tsYW1hIExpc3RlbGVtZVwiKTtcbiAgICB0Ym9keUxpc3RXaXRoU3R1ZGVudElkLmlubmVySFRNTCA9IFwiXCI7XG4gICAgY29uc3Qgc3R1ZGVudEF0dGVuZGFuY2VGaWx0ZXIgPSBhd2FpdCBzdHVkZW50QXR0ZW5kYW5jZXNlcnZpY2UuZ2V0QXR0ZW5kYW5jZXNCeVN0dWRlbnRJZChzdHVkZW50SWQpO1xuICAgIGNvbnNvbGUubG9nKHN0dWRlbnRBdHRlbmRhbmNlRmlsdGVyKTtcbiAgICBzdHVkZW50QXR0ZW5kYW5jZUZpbHRlci5mb3JFYWNoKChzdHVkZW50QXR0ZW5kYW5jZSkgPT4ge1xuICAgICAgICBjb25zdCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcbiAgICAgICAgY29uc3QgdGRUb2RheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICAgICAgY29uc3QgdGRQcmF5ZXJUaW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICBjb25zdCB0ZEFic2VudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcblxuICAgICAgICB0ZFRvZGF5LmlubmVySFRNTCA9IHN0dWRlbnRBdHRlbmRhbmNlLmdldEF0dGVuZGFuY2UoKS5nZXRUb2RheSgpO1xuICAgICAgICB0ZFByYXllclRpbWUuaW5uZXJIVE1MID0gc3R1ZGVudEF0dGVuZGFuY2UuZ2V0QXR0ZW5kYW5jZSgpLmdldFByYXllclRpbWUoKTtcbiAgICAgICAgdGRBYnNlbnQuaW5uZXJIVE1MID0gc3R1ZGVudEF0dGVuZGFuY2UuZ2V0SXNBYnNlbmNlVG9TdHJpbmcoKTtcblxuICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZFRvZGF5KTtcbiAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGRQcmF5ZXJUaW1lKTtcbiAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGRBYnNlbnQpO1xuICAgICAgICB0Ym9keUxpc3RXaXRoU3R1ZGVudElkLmFwcGVuZENoaWxkKHRyKTtcbiAgICB9KTtcbn0iXSwibmFtZXMiOlsiZ2xvYmFsIiwic2VsZiIsIndpbmRvdyIsIkVycm9yIiwiZ2V0R2xvYmFsIiwibW9kdWxlIiwiZXhwb3J0cyIsImZldGNoIiwiYmluZCIsIkhlYWRlcnMiLCJSZXF1ZXN0IiwiUmVzcG9uc2UiLCJjb25zdHJ1Y3RvciIsImlkIiwicHJheWVyVGltZSIsImRhdGUiLCJ0aGlzIiwiX2lkIiwiX3ByYXllclRpbWUiLCJfZGF0ZSIsImdldElkIiwiZ2V0UHJheWVyVGltZSIsImdldFRvZGF5IiwibmFtZSIsInN1cm5hbWUiLCJhYnNlbnQiLCJfbmFtZSIsIl9zdXJuYW1lIiwiX2Fic2VudCIsImdldE5hbWUiLCJnZXRTdXJuYW1lIiwiZ2V0QWJzZW50Iiwic3R1ZGVudCIsImF0dGVuZGFuY2UiLCJpc0Fic2VuY2UiLCJfc3R1ZGVudCIsIl9hdHRlbmRhbmNlIiwiX2lzQWJzZW5jZSIsImdldEF0dGVuZGFuY2UiLCJnZXRTdHVkZW50IiwiZ2V0SXNBYnNlbmNlIiwiZ2V0SXNBYnNlbmNlVG9TdHJpbmciLCJzdHVkZW50SWQiLCJnZXRTdHVkZW50SWQiLCJhcGlVcmwiLCJfYXR0ZW5kYW5jZXMiLCJhc3luYyIsInJlc3BvbnNlIiwibWV0aG9kIiwiaGVhZGVycyIsIkFjY2VwdCIsIm9rIiwic3RhdHVzIiwicmVzdWx0IiwianNvbiIsImZvckVhY2giLCJvYmplY3QiLCJwdXNoIiwiQXR0ZW5kYW5jZSIsInN0dWRlbnRBdHRlbmRhbmNlRHRvIiwiaXNFbXB0eSIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwic3RhdHVzVGV4dCIsIl9zdHVkZW50QXR0ZW5kYW5jZXMiLCJtYXAiLCJzdHVkZW50QXR0ZW5kYW5jZSIsIlN0dWRlbnRBdHRlbmRhbmNlIiwiU3R1ZGVudCIsImF0dGVuZGFuY2VJZCIsIlVSTFNlYXJjaFBhcmFtcyIsInRvU3RyaW5nIiwicmVnTmFtZSIsInJlZ1N1cm5hbWUiLCJfc3R1ZGVudHMiLCJnZXRSZXN1bHQiLCJwYXJzZSIsInZhbGlkYXRlU3R1ZGVudCIsImlzVmFsaWQiLCJ0ZXN0IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiLCJzdHVkZW50U2VydmljZSIsIlN0dWRlbnRTZXJ2aWNlIiwiYXR0ZW5kYW5jZVNlcnZpY2UiLCJBdHRlbmRhbmNlU2VydmljZSIsInN0dWRlbnRBdHRlbmRhbmNlc2VydmljZSIsIlN0dWRlbnRBdHRlbmRhbmNlU2VydmljZSIsImFkZFN0dWRlbnRCdXR0b24iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwidXBkYXRlU3R1ZGVudEJ1dHRvbiIsInRha2VBdHRlbmRhbmNlQnV0dG9uIiwidXBkYXRlQXR0ZW5kYW5jZUJ1dHRvbiIsIm5hbWVJbnB1dCIsInN1cm5hbWVJbnB1dCIsInNlbGVjdFByYXllclRpbWUiLCJzZWxlY3RMaXN0IiwiZ2V0RWxlbWVudHNCeU5hbWUiLCJteVNlbGVjdEF0dGVuZGFuY2VJZCIsIm15U2VsZWN0U3R1ZGVudElkIiwic3R1ZGVudFRhYmxlIiwidGFrZUF0dGVuZGFuY2VUYWJsZSIsImxpc3RBdHRlbmRhbmNlQm9keSIsInRib2R5TGlzdEZvckF0dGVuZGFuY2UiLCJ0Ym9keUxpc3RXaXRoU3R1ZGVudElkIiwic2VsZWN0ZWRTdHVkZW50Iiwic2VsZWN0ZWRBdHRlbmRhbmNlSWQiLCJzaG93U3R1ZGVudExpc3QiLCJpbm5lckhUTUwiLCJnZXRTdHVkZW50cyIsInRyIiwiY3JlYXRlRWxlbWVudCIsInRkSWQiLCJ0ZE5hbWUiLCJ0ZFN1cm5hbWUiLCJ0ZEFic2VudCIsInRkRGVsZXRlIiwidGRVcGRhdGUiLCJ0ZEJ1dHRvbiIsImRlbGV0ZUJ1dHRvbiIsInVwZGF0ZUJ1dHRvbiIsImlubmVyVGV4dCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImNvbnNvbGUiLCJsb2ciLCJkZWxldGVTdHVkZW50IiwiTnVtYmVyIiwiZGF0YXNldCIsInRha2VBdHRlbmRhbmNlTGlzdCIsImxpc3RCeVN0dWRlbnQiLCJsaXN0QXR0ZW5kYW5jZVdpdGhTdHVkZW50SWQiLCJhbGVydCIsInZhbHVlIiwic3R5bGUiLCJkaXNwbGF5IiwidGRPcHRpb24iLCJsYWJlbCIsImlucHV0Iiwic3BhbiIsImNoZWNrZWQiLCJsaXN0QXR0ZW5kYW5jZSIsImdldEF0dGVuZGFuY2VzIiwidGREYXRlIiwidGRQcmF5ZXJUaW1lIiwiZGVsZXRlQXR0ZW5kYW5jZSIsImxpc3RCeUF0dGVuZGFuY2UiLCJsaXN0U3R1ZGVudHNXaXRoQXR0ZW5kYW5jZUlkIiwiZGVmYXVsdE9wcmlvbiIsIm9wdGlvbiIsInN0dWRlbnRBdHRlbmRhbmNlRmlsdGVyIiwiZ2V0U3R1ZGVudHNCeUF0dGVuZGFuY2VJZCIsInN0dWRlbnRMaXN0IiwiZ2V0QXR0ZW5kYW5jZXNCeVN0dWRlbnRJZCIsInRkVG9kYXkiLCJhZGRTdHVkZW50IiwidXBkYXRlU3R1ZGVudCIsIkFycmF5IiwiaW5kZXgiLCJTdHVkZW50QXR0ZW5kYW5jZURUTyIsInRha2VBdHRlbmRhbmNlIiwidGhlbiIsInVwZGF0ZUF0dGVuZGFuY2UiXSwic291cmNlUm9vdCI6IiJ9